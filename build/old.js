(function(e,t){'object'==typeof exports&&'object'==typeof module?module.exports=t():'function'==typeof define&&define.amd?define([],t):'object'==typeof exports?exports.old=t():e.old=t()})(window,function(){var e=Math.min,t=Math.round,i=Math.floor,a=Math.max;return function(e){function t(i){if(a[i])return a[i].exports;var n=a[i]={i:i,l:!1,exports:{}};return e[i].call(n.exports,n,n.exports,t),n.l=!0,n.exports}var a={};return t.m=e,t.c=a,t.d=function(e,a,i){t.o(e,a)||Object.defineProperty(e,a,{enumerable:!0,get:i})},t.r=function(e){'undefined'!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:'Module'}),Object.defineProperty(e,'__esModule',{value:!0})},t.t=function(e,a){if(1&a&&(e=t(e)),8&a)return e;if(4&a&&'object'==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(t.r(i),Object.defineProperty(i,'default',{enumerable:!0,value:e}),2&a&&'string'!=typeof e)for(var n in e)t.d(i,n,function(t){return e[t]}.bind(null,n));return i},t.n=function(e){var a=e&&e.__esModule?function(){return e['default']}:function(){return e};return t.d(a,'a',a),a},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p='/build/',t(t.s=272)}([,function(e,t){(function(e,a){a(t)})(this,function(e){'use strict';function t(e,t){return(t||document).querySelector(e)}function a(e){return'svg'===e?document.createElementNS(Ze,e):document.createElement(e)}function i(e,t,a){var i=Qe.exec(t);i&&i[1]?e.setAttributeNS(Xe,i[1],a):e.setAttribute(t,a)}function n(e,t){return Object.getOwnPropertyDescriptor(e,t)}function s(e){return typeof e===qe}function r(e,t){var a=n(e,t);return s(e[t])||a&&a.writable}function o(e){for(var t=1,a=arguments,i=a.length,n;t<i;t++)if(n=a[t])for(var s in n)r(e,s)&&(e[s]=n[s]);return e}function p(e){return Object.create(e)}function l(e,t){return[].slice.call((t||document).querySelectorAll(e))}function d(){return document.createTextNode('')}function u(e,t){e.style.display=t?'':'none',e.hidden=!t}function c(e,t){return e.getAttribute(t)}function f(e,t){e.removeAttribute(t)}function m(e,t,a){if(a){var i=e.ownerDocument.importNode(new DOMParser().parseFromString('<svg xmlns="'+Ze+'">'+t+'</svg>','application/xml').documentElement,!0);e.appendChild(i)}else e.innerHTML=t}function h(e,t){if(e)for(var a;a=it.exec(e);)t(a[1].toLowerCase(),a[2]||a[3]||a[4])}function y(){return document.createDocumentFragment()}function g(e,t,a){e.insertBefore(t,a.parentNode&&a)}function b(e){return Object.keys(e).reduce(function(t,a){return t+' '+a+': '+e[a]+';'},'')}function x(e,t,a){if(e){var i=t(e,a),n;if(!1===i)return;for(e=e.firstChild;e;)n=e.nextSibling,x(e,t,i),e=n}}function v(e){return s(e)||null===e}function k(e){return v(e)||''===e}function M(e){return typeof e===Ye}function _(e){return e&&typeof e===We}function w(e){var t=e.ownerSVGElement;return!!t||null===t}function C(e){return Array.isArray(e)||e instanceof Array}function A(e){return st.test(e)}function O(e){return typeof e===Ge}function P(e,t){return-1!==e.indexOf(t)}function j(e,t){for(var a=e?e.length:0,n=0;n<a;n++)t(e[n],n);return e}function T(e,t){return e.slice(0,t.length)===t}function F(e,t,a,i){return Object.defineProperty(e,t,o({value:a,enumerable:!1,writable:!1,configurable:!0},i)),e}function D(e){return e.replace(/-(\w)/g,function(e,t){return t.toUpperCase()})}function E(e){console&&console.warn&&console.warn(e)}function B(e,t,a,i,n){var r=e[t],o=C(r),p=!s(n);if(!(r&&r===a))if(!r&&i)e[t]=[a];else if(!r)e[t]=a;else if(o){var l=r.indexOf(a);if(l===n)return;-1!==l&&r.splice(l,1),p?r.splice(n,0,a):r.push(a)}else e[t]=[r,a]}function N(e){return e.tagName&&Ee[c(e,Ie)||c(e,Ie)||e.tagName.toLowerCase()]}function S(e,t){var a=N(e),i=!t&&c(e,Ie);return i&&!mt.hasExpr(i)?i:a?a.name:e.tagName.toLowerCase()}function z(){return this.parent?o(p(this),this.parent):this}function I(e,a,i){var n='o'===i[0],s=n?'select>':'table>';if(e.innerHTML='<'+s+a.trim()+'</'+s,s=e.firstChild,n)s.selectedIndex=-1;else{var r=Ct[i];r&&1===s.childElementCount&&(s=t(r,s))}return s}function L(e,t){if(!kt.test(e))return e;var a={};return t=t&&t.replace(_t,function(e,t,i){return a[t]=a[t]||i,''}).trim(),e.replace(wt,function(e,t,i){return a[t]||i||''}).replace(Mt,function(e,a){return t||a||''})}function V(e,t,i){var n=e&&e.match(/^\s*<([-\w]+)/),s=n&&n[1].toLowerCase(),r=a(i?Pt:Ot);return e=L(e,t),At.test(s)?r=I(r,e,s):m(r,e,i),r}function R(e){return jt.test(e)}function U(e){for(var t=e;t.__.isAnonymous&&!!t.parent;)t=t.parent;return t}function H(t,a,i){var e=this.__.parent,n=this.__.item;if(!n)for(;e&&!n;)n=e.__.item,e=e.__.parent;if((r(i,'currentTarget')&&(i.currentTarget=t),r(i,'target')&&(i.target=i.srcElement),r(i,'which')&&(i.which=i.charCode||i.keyCode),i.item=n,a.call(this,i),!!yt.autoUpdate)&&!i.preventUpdate){var s=U(this);s.isMounted&&s.update()}}function K(e,t,a,i){var n=H.bind(i,a,t),s;a[e]=null,s=e.replace(at,''),P(i.__.listeners,a)||i.__.listeners.push(a),a[Ke]||(a[Ke]={}),a[Ke][e]&&a.removeEventListener(s,a[Ke][e]),a[Ke][e]=n,a.addEventListener(s,n,!1)}function G(e,t,a,i){var n=Te(e,t,a),s=t.tagName||S(t.root,!0),r=U(i);return F(n,'parent',r),n.__.parent=i,B(r.tags,s,n),r!==i&&B(i.tags,s,n),n}function W(e,t,a,i){if(C(e[t])){var n=e[t].indexOf(a);-1!==n&&e[t].splice(n,1),e[t].length?1===e[t].length&&!i&&(e[t]=e[t][0]):delete e[t]}else e[t]===a&&delete e[t]}function q(e,t){var a=this,i=d(),n=d(),s=y(),r,o;for(this.root.insertBefore(i,this.root.firstChild),this.root.appendChild(n),this.__.head=o=i,this.__.tail=n;o;)r=o.nextSibling,s.appendChild(o),a.__.virts.push(o),o=r;t?e.insertBefore(s,t.__.head):e.appendChild(s)}function Y(e,t){if(t.parentNode){var a=y();q.call(e,a),t.parentNode.replaceChild(a,t)}}function X(e,t,a){var n=e.tag||e.dom._tag,s=n?n.__:{},r=s.head,o='VIRTUAL'===e.dom.tagName,p;return n&&e.tagName===a?void n.update():void((n&&(o&&(p=d(),r.parentNode.insertBefore(p,r)),n.unmount(!0)),!!O(a))&&(e.impl=Ee[a],e.impl&&(e.tag=n=G(e.impl,{root:e.dom,parent:t,tagName:a},e.dom.innerHTML,t),j(e.attrs,function(e){return i(n.root,e.name,e.value)}),e.tagName=a,n.mount(),o&&Y(n,p||n.root),t.__.onUnmount=function(){var e=n.opts.dataIs;W(n.parent.tags,e,n),W(n.__.parent.tags,e,n),n.unmount()})))}function Z(e){return e?(e=e.replace(Se,''),nt[e]&&(e=nt[e]),e):null}function Q(e){if(!(this.root&&c(this.root,'virtualized'))){var t=e.dom,a=Z(e.attr),n=P([Re,Ue],a),s=e.root&&'VIRTUAL'===e.root.tagName,r=this.__,o=r.isAnonymous,p=t&&(e.parent||t.parentNode),l=yt.keepValueAttributes,d='style'===a,m='class'===a,h='value'===a,y;if(e._riot_id)return void(e.__.wasCreated?e.update():(e.mount(),s&&Y(e,e.root)));if(e.update)return e.update();var g=n&&!o?z.call(this):this;y=mt(e.expr,g);var x=!k(y),v=_(y);if(v&&(m?y=mt(JSON.stringify(y),this):d&&(y=b(y))),!e.attr||e.wasParsedOnce&&!1!==y&&(x||h&&(!h||l))||f(t,c(t,e.attr)?e.attr:a),e.bool&&(y=!!y&&a),e.isRtag)return X(e,this,y);if(!(e.wasParsedOnce&&e.value===y)&&(e.value=y,e.wasParsedOnce=!0,!v||m||d||n)){if(x||(y=''),!a)return y+='',void(p&&(e.parent=p,'TEXTAREA'===p.tagName?(p.value=y,!rt&&(t.nodeValue=y)):t.nodeValue=y));switch(!0){case M(y):R(a)&&K(a,y,t,this);break;case n:u(t,a===Ue?!y:y);break;default:e.bool&&(t[a]=y),h&&t.value!==y?t.value=y:x&&!1!==y&&i(t,a,y),d&&t.hidden&&u(t,!1);}}}}function J(e){j(e,Q.bind(this))}function ee(e,t,a,i,n){if(!(e&&a)){var s=e?z.call(this):t||this;j(n,function(e){e.expr&&Q.call(s,e.expr),i[D(e.name).replace(Se,'')]=e.expr?e.expr.value:e.value})}}function te(e,t,a){var i=e.__,n={},s=e.isMounted&&!i.skipAnonymous;return(i.isAnonymous&&i.parent&&o(e,i.parent),o(e,t),ee.apply(e,[i.isLoop,i.parent,i.isAnonymous,n,i.instAttrs]),s&&e.isMounted&&M(e.shouldUpdate)&&!e.shouldUpdate(t,n))?e:(o(e.opts,n),s&&e.trigger('update',t),J.call(e,a),s&&e.trigger('updated'),e)}function ae(e){if(!e){var t=Object.keys(Ee);return t+ae(t)}return e.filter(function(e){return!/[^-\w]/.test(e)}).reduce(function(e,a){var t=a.trim().toLowerCase();return e+',['+Ie+'="'+t+'"]'},'')}function ie(e,t){var a=this,i=a.name,n=a.tmpl,s=a.css,r=a.attrs,o=a.onCreate;return Ee[i]||(ne(i,n,s,r,o),Ee[i].class=this.constructor),Fe(e,i,t,this),s&&ut.inject(),this}function ne(e,t,a,i,n){return M(i)&&(n=i,/^[\w-]+\s?=/.test(a)?(i=a,a=''):i=''),a&&(M(a)?n=a:ut.add(a,e)),e=e.toLowerCase(),Ee[e]={name:e,tmpl:t,attrs:i,fn:n},e}function se(e,t,a,i,n){return a&&ut.add(a,e),Ee[e]={name:e,tmpl:t,attrs:i,fn:n},e}function re(e,t,a){function n(e){if(e.tagName){var r=c(e,Ie),o;t&&r!==t&&(r=t,i(e,Ie,t)),o=Fe(e,r||e.tagName.toLowerCase(),M(a)?a():a),o&&s.push(o)}else e.length&&j(e,n)}var s=[],r,o;if(ut.inject(),(_(t)||M(t))&&(a=t,t=0),O(e)?(e='*'===e?o=ae():e+ae(e.split(/, */)),r=e?l(e):[]):r=e,'*'===t){if(t=o||ae(),r.tagName)r=l(t,r);else{var p=[];j(r,function(e){return p.push(l(t,e))}),r=p}t=0}return n(r),s}function oe(e,t,a){if(_(e))return void oe('__'+Dt++ +'__',e,!0);var i=a?Ft:Tt;if(!t){if(s(i[e]))throw new Error('Unregistered mixin: '+e);return i[e]}i[e]=M(t)?o(t.prototype,i[e]||{})&&t:o(i[e]||{},t)}function pe(){return j(De,function(e){return e.update()})}function le(e){return ut.remove(e),delete Ee[e]}function de(e){for(var t=[],a=arguments.length-1;0<a--;)t[a]=arguments[a+1];return j(t,function(t){var a=[],i=['init','__proto__'],s,r;t=O(t)?oe(t):t,s=M(t)?new t:t;var o=Object.getPrototypeOf(s);do a=a.concat(Object.getOwnPropertyNames(r||s));while(r=Object.getPrototypeOf(r||s));j(a,function(t){if(!P(i,t)){var a=n(s,t)||n(o,t),r=a&&(a.get||a.set);!e.hasOwnProperty(t)&&r?Object.defineProperty(e,t,a):e[t]=M(s[t])?s[t].bind(e):s[t]}}),s.init&&s.init.bind(e)(e.opts)}),e}function ue(e,t){var a=this.parent,i;a&&(i=a.tags[e],C(i)?i.splice(t,0,i.splice(i.indexOf(this),1)[0]):B(a.tags,e,this))}function ce(e,t){for(var a=this,i=this.__.head,n=y(),s;i;)if(s=i.nextSibling,n.appendChild(i),i=s,i===a.__.tail){n.appendChild(i),e.insertBefore(n,t.__.head);break}}function fe(e,t,a){var i={};return i[e.key]=t,e.pos&&(i[e.pos]=a),i}function me(e,t,a){for(var n=t.length,i=e.length-a;n>i;)n--,he.apply(t[n],[t,n])}function he(e,t){e.splice(t,1),this.unmount(),W(this.parent,this,this.__.tagName,!0)}function ye(e){var t=this;j(Object.keys(this.tags),function(a){ue.apply(t.tags[a],[a,e])})}function ge(e,t,a){a?ce.apply(this,[e,t]):g(e,this.root,t.root)}function be(e,t,a){a?q.apply(this,[e,t]):g(e,this.root,t.root)}function xe(e,t){t?q.call(this,e):e.appendChild(this.root)}function ve(e,t,a,i){return e?i?mt(e,a):t[e]:t}function ke(e,t,a){var n=typeof c(e,Ve)!==Ge||f(e,Ve),s=c(e,He),r=!!s&&mt.hasExpr(s),l=S(e),u=Ee[l],i=e.parentNode,m=d(),h=N(e),g=c(e,Le),b=[],x=e.innerHTML,v=!Ee[l],k='VIRTUAL'===e.tagName,M=[];return f(e,$e),f(e,He),a=mt.loopKeys(a),a.isLoop=!0,g&&f(e,Le),i.insertBefore(m,e),i.removeChild(e),a.update=function(){a.value=mt(a.val,t);var d=a.value,c=y(),f=!C(d)&&!O(d),_=m.parentNode,w=[],A=f&&!!d;if(_){f&&(d=d?Object.keys(d).map(function(e){return fe(a,d[e],e)}):[]);var T=0;j(d,function(m,y){var C=y-T,O=!A&&a.key?fe(a,m,y):m;if(g&&!mt(g,o(p(t),O)))return void T++;var j=ve(s,m,O,r),F=!f&&n&&typeof m===We||s,D=M.indexOf(j),E=-1===D,N=!E&&F?D:C,S=b[N],z=C>=M.length,I=F&&E||!F&&!S||!b[C];I?(S=Te(u,{parent:t,isLoop:!0,isAnonymous:v,tagName:l,root:e.cloneNode(v),item:O,index:C},x),S.mount(),z?xe.apply(S,[c||_,k]):be.apply(S,[_,b[C],k]),!z&&M.splice(C,0,O),b.splice(C,0,S),h&&B(t.tags,l,S,!0)):N!==C&&F&&((s||P(d,M[N]))&&(ge.apply(S,[_,b[C],k]),b.splice(C,0,b.splice(N,1)[0]),M.splice(C,0,M.splice(N,1)[0])),a.pos&&(S[a.pos]=C),!h&&S.tags&&ye.call(S,C)),o(S.__,{item:O,index:C,parent:t}),w[C]=j,I||S.update(O)}),me(d,b,T),M=w.slice(),_.insertBefore(c,m)}},a.unmount=function(){j(b,function(e){e.unmount()})},a}function Me(e,t,a,i){return p(Nt).init(e,t,a,i)}function _e(e){j(e,function(e){e.unmount?e.unmount(!0):e.tagName?e.tag.unmount(!0):e.unmount&&e.unmount()})}function we(e,t,a){return p(St).init(e,t,a)}function Ce(e,t){var a=this,n=[];return x(e,function(s){var r=s.nodeType,o,p;if((t||s!==e)&&(3===r&&'STYLE'!==s.parentNode.tagName&&mt.hasExpr(s.nodeValue)&&n.push({dom:s,expr:s.nodeValue}),1===r)){var l='VIRTUAL'===s.tagName;if(o=c(s,$e))return l&&i(s,'loopVirtual',!0),n.push(ke(s,a,o)),!1;if(o=c(s,Le))return n.push(we(s,a,o)),!1;if((o=c(s,Ie))&&mt.hasExpr(o))return n.push({isRtag:!0,expr:o,dom:s,attrs:[].slice.call(s.attributes)}),!1;if(p=N(s),l&&(c(s,'virtualized')&&s.parentElement.removeChild(s),!p&&!c(s,'virtualized')&&!c(s,'loopVirtual')&&(p={tmpl:s.outerHTML})),p&&(s!==e||t)){var d=c(s,Ie);if(l&&!d){i(s,'virtualized',!0);var u=Te({tmpl:s.outerHTML},{root:s,parent:a},s.innerHTML);n.push(u)}else return d&&l&&E('Virtual tags shouldn\'t be used together with the "'+Ie+'" attribute - https://github.com/riot/riot/issues/2511'),n.push(G(p,{root:s,parent:a},s.innerHTML,a)),!1}Ae.apply(a,[s,s.attributes,function(e,t){t&&n.push(t)}])}}),n}function Ae(e,t,a){var i=this;j(t,function(t){if(!t)return!1;var n=t.name,s=A(n),r;P(ze,n)&&e.tagName.toLowerCase()!==Be?r=Me(e,i,n,t.value):mt.hasExpr(t.value)&&(r={dom:e,expr:t.value,attr:n,bool:s}),a(t,r)})}function Oe(e){var t=this.__,a=t.isAnonymous,i=t.skipAnonymous;F(this,'isMounted',e),a&&i||(e?this.trigger('mount'):(this.trigger('unmount'),this.off('*'),this.__.wasCreated=!1))}function Pe(e,t,a,n){var s=e.__,r=s.root;r._tag=e,Ae.apply(s.parent,[r,r.attributes,function(t,a){!s.isAnonymous&&Nt.isPrototypeOf(a)&&(a.tag=e),t.expr=a,s.instAttrs.push(t)}]),h(s.impl.attrs,function(e,t){s.implAttrs.push({name:e,value:t})}),Ae.apply(e,[r,s.implAttrs,function(e,t){t?a.push(t):i(r,e.name,e.value)}]),ee.apply(e,[s.isLoop,s.parent,s.isAnonymous,n,s.instAttrs]);var o=oe(Ne);if(o&&!s.skipAnonymous)for(var l in o)o.hasOwnProperty(l)&&e.mixin(o[l]);if(s.impl.fn&&s.impl.fn.call(e,n),s.skipAnonymous||e.trigger('before-mount'),j(Ce.apply(e,[t,s.isAnonymous]),function(t){return a.push(t)}),e.update(s.item),!s.isAnonymous&&!s.isInline)for(;t.firstChild;)r.appendChild(t.firstChild);if(F(e,'root',r),!s.skipAnonymous&&e.parent){var d=U(e.parent);d.one(d.isMounted?'updated':'mount',function(){Oe.call(e,!0)})}else Oe.call(e,!0);return e.__.wasCreated=!0,e}function je(e,t,a){var i=e.__,n=i.root,s=De.indexOf(e),r=n.parentNode;if(i.skipAnonymous||e.trigger('before-unmount'),h(i.impl.attrs,function(e){T(e,Se)&&(e=e.slice(Se.length)),f(n,e)}),e.__.listeners.forEach(function(e){Object.keys(e[Ke]).forEach(function(t){e.removeEventListener(t,e[Ke][t])})}),-1!==s&&De.splice(s,1),i.parent&&!i.isAnonymous){var o=U(i.parent);i.isVirtual?Object.keys(e.tags).forEach(function(t){return W(o.tags,t,e.tags[t])}):W(o.tags,i.tagName,e)}return e.__.virts&&j(e.__.virts,function(e){e.parentNode&&e.parentNode.removeChild(e)}),_e(a),j(i.instAttrs,function(e){return e.expr&&e.expr.unmount&&e.expr.unmount()}),t?m(n,''):r&&r.removeChild(n),i.onUnmount&&i.onUnmount(),e.isMounted||Oe.call(e,!0),Oe.call(e,!1),delete n._tag,e}function Te(e,t,a){void 0===e&&(e={}),void 0===t&&(t={});var i=t.context||{},n=t.opts||{},s=t.parent,r=t.isLoop,p=!!t.isAnonymous,l=yt.skipAnonymousTags&&p,d=t.item,u=t.index,c=e.tmpl,f=[],m=t.root,h=t.tagName||S(m),y='virtual'===h,g=!y&&!c,b;return g||r&&p?b=m:(!y&&(m.innerHTML=''),b=V(c,a,w(m))),l||ht(i),e.name&&m._tag&&m._tag.unmount(!0),F(i,'__',{impl:e,root:m,skipAnonymous:l,implAttrs:[],isAnonymous:p,instAttrs:[],innerHTML:a,tagName:h,index:u,isLoop:r,isInline:g,item:d,parent:s,listeners:[],virts:[],wasCreated:!1,tail:null,head:null}),[['isMounted',!1],['_riot_id',xt()],['root',m],['opts',n,{writable:!0,enumerable:!0}],['parent',s||null],['tags',{}],['refs',{}],['update',function(e){return te(i,e,f)}],['mixin',function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return de.apply(void 0,[i].concat(e))}],['mount',function(){return Pe(i,b,f,n)}],['unmount',function(e){return je(i,e,f)}]].reduce(function(e,t){var a=t[0],n=t[1],s=t[2];return F(i,a,n,s),e},o(i,d))}function Fe(e,t,a,i){var n=Ee[t],s=Ee[t].class,r=i||(s?p(s.prototype):{}),l=e._innerHTML=e._innerHTML||e.innerHTML,d=o({root:e,opts:a,context:r},{parent:a?a.parent:null}),u;return n&&e&&(u=Te(n,d,l)),u&&u.mount&&(u.mount(!0),!P(De,u)&&De.push(u)),u}var De=[],Ee={},Be='yield',Ne='__global_mixin',Se='riot-',ze=['ref','data-ref'],Ie='data-is',Le='if',$e='each',Ve='no-reorder',Re='show',Ue='hide',He='key',Ke='__riot-events__',Ge='string',We='object',qe='undefined',Ye='function',Xe='http://www.w3.org/1999/xlink',Ze='http://www.w3.org/2000/svg',Qe=/^xlink:(\w+)/,Je=typeof window===qe?void 0:window,et=/^(?:t(?:body|head|foot|[rhd])|caption|col(?:group)?|opt(?:ion|group))$/,tt=/^(?:t(?:body|head|foot|[rhd])|caption|col(?:group)?)$/,at=/^on/,it=/([-\w]+) ?= ?(?:"([^"]*)|'([^']*)|({[^}]*}))/g,nt={viewbox:'viewBox',preserveaspectratio:'preserveAspectRatio'},st=/^(?:disabled|checked|readonly|required|allowfullscreen|auto(?:focus|play)|compact|controls|default|formnovalidate|hidden|ismap|itemscope|loop|multiple|muted|no(?:resize|shade|validate|wrap)?|open|reversed|seamless|selected|sortable|truespeed|typemustmatch)$/,rt=0|(Je&&Je.document||{}).documentMode,ot={},pt=!1,lt,dt;Je&&(lt=function(){var e=a('style'),n=t('style[type=riot]');return i(e,'type','text/css'),n?(n.id&&(e.id=n.id),n.parentNode.replaceChild(e,n)):document.head.appendChild(e),e}(),dt=lt.styleSheet);var ut={styleNode:lt,add:function(e,t){ot[t]=e,pt=!0},inject:function(){if(Je&&pt){pt=!1;var e=Object.keys(ot).map(function(e){return ot[e]}).join('\n');dt?dt.cssText=e:lt.innerHTML=e}},remove:function(e){delete ot[e],pt=!0}},ct=function(){function e(e,t){for(;0<=--t&&/\s/.test(e[t]););return t}var t=['case','default','do','else','in','instanceof','prefix','return','typeof','void','yield'],a=t.reduce(function(e,t){return e+t.slice(-1)},''),i=/^\/(?=[^*>/])[^[/\\]*(?:(?:\\.|\[(?:\\.|[^\]\\]*)*\])[^[\\/]*)*?\/[gimuy]*/,n=/[$\w]/;return function(s,r){var o=/.*/g,p=o.lastIndex=r++,l=o.exec(s)[0].match(i);if(l){var d=p+l[0].length;p=e(s,p);var u=s[p];if(0>p||~'[{(,;:?=|&!^~>%*/'.indexOf(u))return d;if('.'===u)'.'===s[p-1]&&(r=d);else if('+'===u||'-'===u)(s[--p]!==u||0>(p=e(s,p))||!n.test(s[p]))&&(r=d);else if(~a.indexOf(u)){for(var c=p+1;0<=--p&&n.test(s[p]););~t.indexOf(s.slice(p+1,c))&&(r=d)}}return r}}(),ft=function(e){function t(e){return e}function a(e,t){return t||(t=g),new RegExp(e.source.replace(/{/g,t[2]).replace(/}/g,t[3]),e.global?r:'')}function i(e){if(e===m)return h;var t=e.split(' ');if(2!==t.length||d.test(e))throw new Error('Unsupported brackets "'+e+'"');return t=t.concat(e.replace(u,'\\').split(' ')),t[4]=a(1<t[1].length?/{[\S\s]*?}/:h[4],t),t[5]=a(3<e.length?/\\({|})/g:h[5],t),t[6]=a(h[6],t),t[7]=RegExp('\\\\('+t[3]+')|([[({])|('+t[3]+')|'+c,r),t[8]=e,t}function n(e){return e instanceof RegExp?b(e):g[e]}function s(e){(e||(e=m))!==g[8]&&(g=i(e),b=e===m?t:a,g[9]=b(h[9])),y=e}var r='g',o=/\/\*[^*]*\*+(?:[^*\/][^*]*\*+)*\//g,p=/"[^"\\]*(?:\\[\S\s][^"\\]*)*"|'[^'\\]*(?:\\[\S\s][^'\\]*)*'|`[^`\\]*(?:\\[\S\s][^`\\]*)*`/g,l=p.source+'|'+/(?:\breturn\s+|(?:[$\w\)\]]|\+\+|--)\s*(\/)(?![*\/]))/.source+'|'+/\/(?=[^*\/])[^[\/\\]*(?:(?:\[(?:\\.|[^\]\\]*)*\]|\\.)[^[\/\\]*)*?([^<]\/)[gim]*/.source,d=/[\x00-\x1F<>a-zA-Z0-9'",;\\]/,u=/(?=[[\]()*+?.^$|])/g,c=p.source+'|'+/(\/)(?![*\/])/.source,f={"(":RegExp('([()])|'+c,r),"[":RegExp('([[\\]])|'+c,r),"{":RegExp('([{}])|'+c,r)},m='{ }',h=['{','}','{','}',/{[^}]*}/,/\\([{}])/g,/\\({)|{/g,RegExp('\\\\(})|([[({])|(})|'+c,r),m,/^\s*{\^?\s*([$\w]+)(?:\s*,\s*(\S+))?\s+in\s+(\S.*)\s*}/,/(^|[^\\]){=[\S\s]*?}/],y=e,g=[],b,x;return n.split=function(e,t,a){function i(e){p&&(e=p+e,p=''),t||d?r.push(e&&e.replace(a[5],'$1')):r.push(e)}function n(a,i,n){return n&&(i=ct(e,a)),t&&i>a+2&&(m='\u2057'+o.length+'~',o.push(e.slice(a,i)),p+=e.slice(u,a)+m,u=i),i}a||(a=g);var r=[],s=a[6],o=[],p='',l,d,u,c,m,h;for(d=u=s.lastIndex=0;l=s.exec(e);){if(h=s.lastIndex,c=l.index,d){if(l[2]){var y=l[2],b=f[y],x=1;for(b.lastIndex=h;l=b.exec(e);)if(!l[1])b.lastIndex=n(l.index,b.lastIndex,l[2]);else if(l[1]===y)++x;else if(! --x)break;s.lastIndex=x?e.length:b.lastIndex;continue}if(!l[3]){s.lastIndex=n(c,h,l[4]);continue}}l[1]||(i(e.slice(u,c)),u=s.lastIndex,s=a[6+(d^=1)],s.lastIndex=u)}return e&&u<e.length&&i(e.slice(u)),r.qblocks=o,r},n.hasExpr=function(e){return g[4].test(e)},n.loopKeys=function(e){var t=e.match(g[9]);return t?{key:t[1],pos:t[2],val:g[0]+t[3].trim()+g[1]}:{val:e.trim()}},n.array=function(e){return e?i(e):g},Object.defineProperty(n,'settings',{set:function(e){var t;e=e||{},t=e.brackets,Object.defineProperty(e,'brackets',{set:s,get:function(){return y},enumerable:!0}),x=e,s(t)},get:function(){return x}}),n.settings='undefined'!=typeof riot&&riot.settings||{},n.set=s,n.skipRegex=ct,n.R_STRINGS=p,n.R_MLCOMMS=o,n.S_QBLOCKS=l,n.S_QBLOCK2=c,n}(),mt=function(){function e(e,i){return e?(r[e]||(r[e]=a(e))).call(i,t.bind({data:i,tmpl:e})):e}function t(t,a){t.riotData={tagName:a&&a.__&&a.__.tagName,_riot_id:a&&a._riot_id},e.errorHandler?e.errorHandler(t):'undefined'!=typeof console&&'function'==typeof console.error&&(console.error(t.message),console.log('<%s> %s',t.riotData.tagName||'Unknown tag',this.tmpl),console.log(this.data))}function a(e){var t=i(e);return'try{return '!==t.slice(0,11)&&(t='return '+t),console.log('hello there',e,t),new Function('E',t+';')}function i(e){console.log(1,e);var t=ft.split(e.replace(o,'"'),1),a=t.qblocks,s;if(console.log(1,t),2<t.length||t[0]){var r=[],l,i;for(l=i=0;l<t.length;++l)s=t[l],s&&(s=1&l?n(s,1,a):'"'+s.replace(/\\/g,'\\\\').replace(/\r\n?|\n/g,'\\n').replace(/"/g,'\\"')+'"')&&(r[i++]=s);console.log(2,s),s=2>i?r[0]:'['+r.join(',')+'].join("")',console.log(3,s)}else s=n(t[1],0,a),console.log(4,s);return a.length&&(s=s.replace(p,function(e,t){return a[t].replace(/\r/g,'\\r').replace(/\n/g,'\\n')}),console.log(5,s)),s}function n(e,t,a){function i(t,a){var i=1,n=d[t],s;for(n.lastIndex=a.lastIndex;s=n.exec(e);)if(s[0]===t)++i;else if(! --i)break;a.lastIndex=i?e.length:n.lastIndex}if(e=e.replace(/\s+/g,' ').trim().replace(/\ ?([[\({},?\.:])\ ?/g,'$1'),e){for(var n=[],r=0,o;e&&(o=e.match(l))&&!o.index;){var p=/,|([[{(])|$/g,u,c;for(e=RegExp.rightContext,u=o[2]?a[o[2]].slice(1,-1).trim().replace(/\s+/g,' '):o[1];c=(o=p.exec(e))[1];)i(c,p);c=e.slice(0,o.index),e=RegExp.rightContext,n[r++]=s(c,1,u)}e=r?1<r?'['+n.join(',')+'].join(" ").trim()':n[0]:s(e,t)}return e}function s(e,t,a){var i;return e=e.replace(c,function(e,t,a,n,r){return a&&(n=i?0:n+e.length,'this'!==a&&'global'!==a&&'window'!==a?(e=t+'("'+a+u+a,n&&(i='.'===(r=r[n])||'('===r||'['===r)):n&&(i=!f.test(r.slice(n)))),e}),i&&(e='try{return '+e+'}catch(e){E(e,this)}'),a?e=(i?'function(){'+e+'}.call(this)':'('+e+')')+'?"'+a+'":""':t&&(e='function(v){'+(i?e.replace('return ','v='):'v=('+e+')')+';return v||v===0?v:""}.call(this)'),e}var r={};e.hasExpr=ft.hasExpr,e.loopKeys=ft.loopKeys,e.clearCache=function(){r={}},e.errorHandler=null;var o=/\u2057/g,p=/\u2057(\d+)~/g,l=/^(?:(-?[_A-Za-z\xA0-\xFF][-\w\xA0-\xFF]*)|\u2057(\d+)~):/,d={"(":/[()]/g,"[":/[[\]]/g,"{":/[{}]/g},u='"in this?this:'+('object'==typeof window?'window':'global')+').',c=/[,{][\$\w]+(?=:)|(^ *|[^$\w\.{])(?!(?:typeof|true|false|null|undefined|in|instanceof|is(?:Finite|NaN)|void|NaN|new|Date|RegExp|Math)(?![$\w]))([$_A-Za-z][$\w]*)/g,f=/^(?=(\.[$\w]+))\1(?:[^.[(]|$)/;return e.version=ft.version='v3.0.8',e}(),ht=function(e){e=e||{};var t={},a=Array.prototype.slice;return Object.defineProperties(e,{on:{value:function(a,i){return'function'==typeof i&&(t[a]=t[a]||[]).push(i),e},enumerable:!1,writable:!1,configurable:!1},off:{value:function(a,n){if('*'==a&&!n)t={};else if(n)for(var s=t[a],r=0,i;i=s&&s[r];++r)i==n&&s.splice(r--,1);else delete t[a];return e},enumerable:!1,writable:!1,configurable:!1},one:{value:function(t,a){function i(){e.off(t,i),a.apply(e,arguments)}return e.on(t,i)},enumerable:!1,writable:!1,configurable:!1},trigger:{value:function(n){var s=arguments,r=arguments.length-1,o=Array(r),p,l,d;for(d=0;d<r;d++)o[d]=s[d+1];for(p=a.call(t[n]||[],0),d=0;l=p[d];++d)l.apply(e,o);return t['*']&&'*'!=n&&e.trigger.apply(e,['*',n].concat(o)),e},enumerable:!1,writable:!1,configurable:!1}}),e},yt=o(p(ft.settings),{skipAnonymousTags:!0,keepValueAttributes:!1,autoUpdate:!0}),gt=Object.freeze({$$:l,$:t,createDOMPlaceholder:d,mkEl:a,setAttr:i,toggleVisibility:u,getAttr:c,remAttr:f,setInnerHTML:m,walkAttrs:h,createFrag:y,safeInsert:g,styleObjectToString:b,walkNodes:x}),bt=Object.freeze({isBlank:k,isFunction:M,isObject:_,isSvg:w,isWritable:r,isArray:C,isBoolAttr:A,isNil:v,isString:O,isUndefined:s}),xt=function(){var e=-1;return function(){return++e}}(),vt=Object.freeze({contains:P,each:j,getPropDescriptor:n,startsWith:T,uid:xt,defineProperty:F,objectCreate:p,extend:o,toCamel:D,warn:E}),kt=/<yield\b/i,Mt=/<yield\s*(?:\/>|>([\S\s]*?)<\/yield\s*>|>)/ig,_t=/<yield\s+to=['"]([^'">]*)['"]\s*>([\S\s]*?)<\/yield\s*>/ig,wt=/<yield\s+from=['"]?([-\w]+)['"]?\s*(?:\/>|>([\S\s]*?)<\/yield\s*>)/ig,Ct={tr:'tbody',th:'tr',td:'tr',col:'colgroup'},At=rt&&10>rt?et:tt,Ot='div',Pt='svg',jt=/^on/,Tt={},Ft=Tt[Ne]={},Dt=0,Et='v3.13.2',Bt=Object.freeze({Tag:ie,tag:ne,tag2:se,mount:re,mixin:oe,update:pe,unregister:le,version:Et}),Nt={init:function(e,t,a,i){return this.dom=e,this.attr=a,this.rawValue=i,this.parent=t,this.hasExp=mt.hasExpr(i),this},update:function(){var e=this.value,t=this.parent&&U(this.parent),a=this.dom.__ref||this.tag||this.dom;this.value=this.hasExp?mt(this.rawValue,this.parent):this.rawValue,!k(e)&&t&&W(t.refs,e,a),!k(this.value)&&O(this.value)?(t&&B(t.refs,this.value,a,null,this.parent.__.index),this.value!==e&&i(this.dom,this.attr,this.value)):f(this.dom,this.attr),this.dom.__ref||(this.dom.__ref=a)},unmount:function(){var e=this.tag||this.dom,t=this.parent&&U(this.parent);!k(this.value)&&t&&W(t.refs,this.value,e)}},St={init:function(e,t,a){f(e,Le),o(this,{tag:t,expr:a,stub:d(),pristine:e});var i=e.parentNode;return i.insertBefore(this.stub,e),i.removeChild(e),this},update:function(){this.value=mt(this.expr,this.tag);this.stub.parentNode&&(this.value&&!this.current?(this.current=this.pristine.cloneNode(!0),this.stub.parentNode.insertBefore(this.current,this.stub),this.expressions=Ce.apply(this.tag,[this.current,!0])):!this.value&&this.current&&(this.unmount(),this.current=null,this.expressions=[]),this.value&&J.call(this.tag,this.expressions))},unmount:function(){this.current&&(this.current._tag?this.current._tag.unmount():this.current.parentNode&&this.current.parentNode.removeChild(this.current)),_e(this.expressions||[])}},zt=Object.freeze({arrayishAdd:B,getTagName:S,inheritParentProps:z,mountTo:Fe,selectTags:ae,arrayishRemove:W,getTag:N,initChildTag:G,moveChildTag:ue,makeReplaceVirtual:Y,getImmediateCustomParentTag:U,makeVirtual:q,moveVirtual:ce,unmountAll:_e,createIfDirective:we,createRefDirective:Me}),It=yt,Lt={tmpl:mt,brackets:ft,styleManager:ut,vdom:De,styleNode:ut.styleNode,dom:gt,check:bt,misc:vt,tags:zt},$t=o({},Bt,{observable:ht,settings:It,util:Lt});e.settings=It,e.util=Lt,e.Tag=ie,e.tag=ne,e.tag2=se,e.mount=re,e.mixin=oe,e.update=pe,e.unregister=le,e.version=Et,e.observable=ht,e.default=$t,Object.defineProperty(e,'__esModule',{value:!0})})},,function(e,t,a){'use strict';a.r(t);var i=a(4),n=a.n(i),s=a(5),r=a(7),o=a(8),p=a(9),l=a(63),d=a.n(l),u=a(64),c=a(65),f=a(137),m=a(138),h=a(139),y=a(1);y.tag2('pragma','<tree children="{form.tree.children}" onadd="{add}" onedit="{edit}" onremove="{remove}"></tree> <div if="{opts.debug !== undefined}" style="position: fixed; top: 0; right: 0; height: 100%; width: 300px; background: rgba(255, 255, 255, 0.5); overflow: auto;"> <pre>{JSON.stringify(state, null, 2)}</pre> </div>','','',function(){y.mixin(m['default']),this.form=new h['default']([]),this.state=null,this.fields=null,window&&this.opts.debug&&(window.pragma=this.form),this.add=function(e){let{name:t}=e.detail;this.form.addItem(this.state,t)},this.edit=function(e){let{name:t,value:a}=e.detail;a=this.form.setValue(this.state,t,a),e.detail.value=a},this.remove=function(e){let{name:t}=e.detail;this.form.removeValue(this.state,t)},this.sync=function(){let e=this.opts.fields||this.root.fields||{},t=this.opts.functions||this.root.functions||{},a=this.opts.defaults||this.root.defaults||{},i=this.opts.state||this.root.state||{};this.form.setDefaults(a),this.form.addFunctions(t),e!==this.fields&&(console.time('setFields'),this.fields=e,this.form.setFields(e),console.timeEnd('setFields')),i!==this.state&&(console.time('update'),this.state=i,this.form.update(this.state),console.timeEnd('update'))},this.root.sync=()=>{this.sync()},this.root.update=()=>{this.update()},this.on('mount',this.sync),this.on('update',this.sync)})},function(e,t,a){var i=a(1);i.tag2('tree','<virtual each="{child in opts.children}" key="path"> <tree-child if="{visible(child)}" data-is="{child.input}" property="{child}"> <tree if="{opts.property.children}" children="{opts.property.children}"></tree> </tree-child> </virtual>','','',function(){this.visible=function(e){return e&&e.visible}})},function(e,t,a){'use strict';a.r(t);var i=a(6),n=a(1);n.tag2('string','<input type="text" name="{opts.property.path}" title="{opts.property.name}" riot-value="{opts.property.value}" disabled="{opts.property.disabled}" oninput="{edit}">','','',function(){this.mixin(i['default'])})},function(e,t,a){'use strict';function i(e){return'checkbox'===e.type?e.checked:e.value}a.r(t),t['default']={edit:function(e){var t=e.target;this.triggerDom('edit',{input:t,name:t.name,value:i(t)})}}},function(e,t,a){'use strict';a.r(t);var i=a(6),n=a(1);n.tag2('number','<input name="{opts.property.path}" title="{opts.property.name}" min="{opts.property.options.min}" max="{opts.property.options.max}" step="{opts.property.options.step}" riot-value="{opts.property.value}" disabled="{opts.property.disabled}" oninput="{edit}" type="{\'number\'}">','','',function(){this.mixin(i['default'])})},function(e,t,a){'use strict';a.r(t);var i=a(6),n=a(1);n.tag2('boolean','<input type="checkbox" name="{opts.property.path}" title="{opts.property.name}" checked="{!!opts.property.value}" disabled="{!!opts.property.disabled}" oninput="{edit}">','','',function(){this.mixin(i['default'])})},function(e,t,a){'use strict';a.r(t);var i=a(10),n=a.n(i),s=a(6),r=a(1);r.tag2('selection','<select name="{opts.property.path}" title="{opts.property.name}" disabled="{!!opts.property.disabled}" oninput="{edit}"> <option each="{name, value in getSelectionOptions()}" riot-value="{value}" selected="{opts.property.value === value}">{name}</option> </select>','','',function(){this.mixin(s['default']),this.getSelectionOptions=function(){return n()(this.opts.property,'options.options',{})}})},function(e,t,a){var i=a(11);e.exports=function(e,t,a){var n=null==e?void 0:i(e,t);return n===void 0?a:n}},function(e,t,a){var i=a(12),n=a(62);e.exports=function(e,t){t=i(t,e);for(var a=0,s=t.length;null!=e&&a<s;)e=e[n(t[a++])];return a&&a==s?e:void 0}},function(e,t,a){var i=a(13),n=a(14),s=a(24),r=a(59);e.exports=function(e,t){return i(e)?e:n(e,t)?[e]:s(r(e))}},function(e){var t=Array.isArray;e.exports=t},function(e,t,a){function i(e,t){if(n(e))return!1;var a=typeof e;return!!('number'==a||'symbol'==a||'boolean'==a||null==e||s(e))||o.test(e)||!r.test(e)||null!=t&&e in Object(t)}var n=a(13),s=a(15),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,o=/^\w*$/;e.exports=i},function(e,t,a){var i=a(16),n=a(23);e.exports=function(e){return'symbol'==typeof e||n(e)&&i(e)=='[object Symbol]'}},function(e,t,a){function i(e){return null==e?void 0===e?p:o:l&&l in Object(e)?s(e):r(e)}var n=a(17),s=a(21),r=a(22),o='[object Null]',p='[object Undefined]',l=n?n.toStringTag:void 0;e.exports=i},function(e,t,a){var i=a(18),n=i.Symbol;e.exports=n},function(e,t,a){var i=a(19),n='object'==typeof self&&self&&self.Object===Object&&self,s=i||n||Function('return this')();e.exports=s},function(e,t,a){(function(t){var a='object'==typeof t&&t&&t.Object===Object&&t;e.exports=a}).call(this,a(20))},function(e){var t=function(){return this}();try{t=t||new Function('return this')()}catch(a){'object'==typeof window&&(t=window)}e.exports=t},function(e,t,a){var i=a(17),n=Object.prototype,s=n.hasOwnProperty,r=n.toString,o=i?i.toStringTag:void 0;e.exports=function(e){var t=s.call(e,o),a=e[o];try{e[o]=void 0}catch(t){}var i=r.call(e);return t?e[o]=a:delete e[o],i}},function(e){var t=Object.prototype,a=t.toString;e.exports=function(e){return a.call(e)}},function(e){e.exports=function(e){return null!=e&&'object'==typeof e}},function(e,t,a){var i=a(25),n=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,s=/\\(\\)?/g,r=i(function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(''),e.replace(n,function(e,a,i,n){t.push(i?n.replace(s,'$1'):a||e)}),t});e.exports=r},function(e,t,a){var i=a(26);e.exports=function(e){var t=i(e,function(e){return a.size===500&&a.clear(),e}),a=t.cache;return t}},function(e,t,a){function i(e,t){if('function'!=typeof e||null!=t&&'function'!=typeof t)throw new TypeError(s);var a=function(){var i=arguments,n=t?t.apply(this,i):i[0],s=a.cache;if(s.has(n))return s.get(n);var r=e.apply(this,i);return a.cache=s.set(n,r)||s,r};return a.cache=new(i.Cache||n),a}var n=a(27),s='Expected a function';i.Cache=n,e.exports=i},function(e,t,a){function i(e){var t=-1,a=null==e?0:e.length;for(this.clear();++t<a;){var i=e[t];this.set(i[0],i[1])}}var n=a(28),s=a(53),r=a(56),o=a(57),p=a(58);i.prototype.clear=n,i.prototype['delete']=s,i.prototype.get=r,i.prototype.has=o,i.prototype.set=p,e.exports=i},function(e,t,a){var i=a(29),n=a(44),s=a(52);e.exports=function(){this.size=0,this.__data__={hash:new i,map:new(s||n),string:new i}}},function(e,t,a){function i(e){var t=-1,a=null==e?0:e.length;for(this.clear();++t<a;){var i=e[t];this.set(i[0],i[1])}}var n=a(30),s=a(40),r=a(41),o=a(42),p=a(43);i.prototype.clear=n,i.prototype['delete']=s,i.prototype.get=r,i.prototype.has=o,i.prototype.set=p,e.exports=i},function(e,t,a){var i=a(31);e.exports=function(){this.__data__=i?i(null):{},this.size=0}},function(e,t,a){var i=a(32),n=i(Object,'create');e.exports=n},function(e,t,a){var i=a(33),n=a(39);e.exports=function(e,t){var a=n(e,t);return i(a)?a:void 0}},function(e,t,a){var i=a(34),n=a(36),s=a(35),r=a(38),o=/[\\^$.*+?()[\]{}|]/g,p=/^\[object .+?Constructor\]$/,l=Function.prototype,d=Object.prototype,u=l.toString,c=d.hasOwnProperty,f=RegExp('^'+u.call(c).replace(o,'\\$&').replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,'$1.*?')+'$');e.exports=function(e){if(!s(e)||n(e))return!1;var t=i(e)?f:p;return t.test(r(e))}},function(e,t,a){var i=a(16),n=a(35);e.exports=function(e){if(!n(e))return!1;var t=i(e);return t=='[object Function]'||t=='[object GeneratorFunction]'||t=='[object AsyncFunction]'||t=='[object Proxy]'}},function(e){e.exports=function(e){var t=typeof e;return null!=e&&('object'==t||'function'==t)}},function(e,t,a){function i(e){return!!s&&s in e}var n=a(37),s=function(){var e=/[^.]+$/.exec(n&&n.keys&&n.keys.IE_PROTO||'');return e?'Symbol(src)_1.'+e:''}();e.exports=i},function(e,t,a){var i=a(18),n=i['__core-js_shared__'];e.exports=n},function(e){var t=Function.prototype,a=t.toString;e.exports=function(e){if(null!=e){try{return a.call(e)}catch(t){}try{return e+''}catch(t){}}return''}},function(e){e.exports=function(e,t){return null==e?void 0:e[t]}},function(e){e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},function(e,t,a){var i=a(31),n=Object.prototype,s=n.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(i){var a=t[e];return a==='__lodash_hash_undefined__'?void 0:a}return s.call(t,e)?t[e]:void 0}},function(e,t,a){var i=a(31),n=Object.prototype,s=n.hasOwnProperty;e.exports=function(e){var t=this.__data__;return i?t[e]!==void 0:s.call(t,e)}},function(e,t,a){var i=a(31);e.exports=function(e,t){var a=this.__data__;return this.size+=this.has(e)?0:1,a[e]=i&&void 0===t?'__lodash_hash_undefined__':t,this}},function(e,t,a){function i(e){var t=-1,a=null==e?0:e.length;for(this.clear();++t<a;){var i=e[t];this.set(i[0],i[1])}}var n=a(45),s=a(46),r=a(49),o=a(50),p=a(51);i.prototype.clear=n,i.prototype['delete']=s,i.prototype.get=r,i.prototype.has=o,i.prototype.set=p,e.exports=i},function(e){e.exports=function(){this.__data__=[],this.size=0}},function(e,t,a){var i=a(47),n=Array.prototype,s=n.splice;e.exports=function(e){var t=this.__data__,a=i(t,e);if(0>a)return!1;var n=t.length-1;return a==n?t.pop():s.call(t,a,1),--this.size,!0}},function(e,t,a){var i=a(48);e.exports=function(e,t){for(var a=e.length;a--;)if(i(e[a][0],t))return a;return-1}},function(e){e.exports=function(e,t){return e===t||e!==e&&t!==t}},function(e,t,a){var i=a(47);e.exports=function(e){var t=this.__data__,a=i(t,e);return 0>a?void 0:t[a][1]}},function(e,t,a){var i=a(47);e.exports=function(e){return-1<i(this.__data__,e)}},function(e,t,a){var i=a(47);e.exports=function(e,t){var a=this.__data__,n=i(a,e);return 0>n?(++this.size,a.push([e,t])):a[n][1]=t,this}},function(e,t,a){var i=a(32),n=a(18),s=i(n,'Map');e.exports=s},function(e,t,a){var i=a(54);e.exports=function(e){var t=i(this,e)['delete'](e);return this.size-=t?1:0,t}},function(e,t,a){var i=a(55);e.exports=function(e,t){var a=e.__data__;return i(t)?a['string'==typeof t?'string':'hash']:a.map}},function(e){e.exports=function(e){var t=typeof e;return'string'==t||'number'==t||'symbol'==t||'boolean'==t?'__proto__'!==e:null===e}},function(e,t,a){var i=a(54);e.exports=function(e){return i(this,e).get(e)}},function(e,t,a){var i=a(54);e.exports=function(e){return i(this,e).has(e)}},function(e,t,a){var i=a(54);e.exports=function(e,t){var a=i(this,e),n=a.size;return a.set(e,t),this.size+=a.size==n?0:1,this}},function(e,t,a){var i=a(60);e.exports=function(e){return null==e?'':i(e)}},function(e,t,a){function i(e){if('string'==typeof e)return e;if(r(e))return s(e,i)+'';if(o(e))return d?d.call(e):'';var t=e+'';return'0'==t&&1/e==-p?'-0':t}var n=a(17),s=a(61),r=a(13),o=a(15),p=1/0,l=n?n.prototype:void 0,d=l?l.toString:void 0;e.exports=i},function(e){e.exports=function(e,t){for(var a=-1,i=null==e?0:e.length,n=Array(i);++a<i;)n[a]=t(e[a],a,e);return n}},function(e,t,a){var i=a(15);e.exports=function(e){if('string'==typeof e||i(e))return e;var t=e+'';return'0'==t&&1/e==-(1/0)?'-0':t}},function(e,t,a){var i=a(1);i.tag2('section','<fieldset name="{opts.property.path}" title="{opts.property.description}" style="min-width: 0;"> <legend>{opts.property.name}</legend> <yield></yield> </fieldset>','','',function(){})},function(e,t,a){'use strict';a.r(t);var i=a(10),n=a.n(i),s=a(1);s.tag2('group','<div class="group-container"> <span if="{!get(opts.property, \'options.hideLabel\')}"> {opts.property.name} </span> <span> <yield></yield> </span> </div>','group .group-container,[data-is="group"] .group-container{ margin: 8px 0; }','',function(){this.get=n.a})},function(e,t,a){'use strict';a.r(t);var i=a(10),n=a.n(i),s=a(66),r=a.n(s),o=a(134),p=a.n(o),l=a(136),d=a.n(l),u=a(1);u.tag2('list','<div class="list-container"> <div if="{showLabel()}">{opts.property.name}</div> <virtual each="{child in opts.property.children}" key="path"> <list-item property="{child}" removable="{editable() && !fixed(child.pathFragment)}"></list-item> </virtual> <button type="button" if="{editable()}" onclick="{add}">Add</button> </div>','list .list-container,[data-is="list"] .list-container{ margin: 8px auto; }','',function(){this.add=function(){this.editable()&&this.triggerDom('add',{name:this.opts.property.path})},this.showLabel=function(){return!!n()(this.opts.property,'options.showLabel')},this.editable=function(){return!!n()(this.opts.property,'options.editable')},this.fixed=function(e){return!!this.opts.property.fixed&&(Array.isArray(this.opts.property.fixed)?0<=r()(this.opts.property.fixed,e):!!p()(this.opts.property.fixed)&&!!this.opts.property.fixed[e])}})},function(e,t,i){var n=i(67),s=i(68),r=i(131);e.exports=function(e,t,i){var o=null==e?0:e.length;if(!o)return-1;var p=null==i?0:r(i);return 0>p&&(p=a(o+p,0)),n(e,s(t,3),p)}},function(e){e.exports=function(e,t,a,i){for(var n=e.length,s=a+(i?1:-1);i?s--:++s<n;)if(t(e[s],s,e))return s;return-1}},function(e,t,a){var i=a(69),n=a(123),s=a(127),r=a(13),o=a(128);e.exports=function(e){return'function'==typeof e?e:null==e?s:'object'==typeof e?r(e)?n(e[0],e[1]):i(e):o(e)}},function(e,t,a){var i=a(70),n=a(120),s=a(122);e.exports=function(e){var t=n(e);return 1==t.length&&t[0][2]?s(t[0][0],t[0][1]):function(a){return a===e||i(a,e,t)}}},function(e,t,a){function i(e,t,a,i){var p=a.length,l=p,d=!i;if(null==e)return!l;for(e=Object(e);p--;){var u=a[p];if(d&&u[2]?u[1]!==e[u[0]]:!(u[0]in e))return!1}for(;++p<l;){u=a[p];var c=u[0],f=e[c],m=u[1];if(!(d&&u[2])){var h=new n;if(i)var y=i(f,m,c,e,t,h);if(void 0===y?!s(m,f,r|o,i,h):!y)return!1}else if(void 0===f&&!(c in e))return!1}return!0}var n=a(71),s=a(77),r=1,o=2;e.exports=i},function(e,t,a){function i(e){var t=this.__data__=new n(e);this.size=t.size}var n=a(44),s=a(72),r=a(73),o=a(74),p=a(75),l=a(76);i.prototype.clear=s,i.prototype['delete']=r,i.prototype.get=o,i.prototype.has=p,i.prototype.set=l,e.exports=i},function(e,t,a){var i=a(44);e.exports=function(){this.__data__=new i,this.size=0}},function(e){e.exports=function(e){var t=this.__data__,a=t['delete'](e);return this.size=t.size,a}},function(e){e.exports=function(e){return this.__data__.get(e)}},function(e){e.exports=function(e){return this.__data__.has(e)}},function(e,t,a){var i=a(44),n=a(52),s=a(27);e.exports=function(e,t){var a=this.__data__;if(a instanceof i){var r=a.__data__;if(!n||r.length<200-1)return r.push([e,t]),this.size=++a.size,this;a=this.__data__=new s(r)}return a.set(e,t),this.size=a.size,this}},function(e,t,a){function i(e,t,a,r,o){return!(e!==t)||(null!=e&&null!=t&&(s(e)||s(t))?n(e,t,a,r,i,o):e!==e&&t!==t)}var n=a(78),s=a(23);e.exports=i},function(e,t,a){var i=a(71),n=a(79),s=a(85),r=a(89),o=a(115),p=a(13),l=a(101),d=a(105),u='[object Arguments]',c='[object Array]',f='[object Object]',m=Object.prototype,h=m.hasOwnProperty;e.exports=function(e,t,a,m,y,g){var b=p(e),x=p(t),v=b?c:o(e),k=x?c:o(t);v=v==u?f:v,k=k==u?f:k;var M=v==f,_=k==f,w=v==k;if(w&&l(e)){if(!l(t))return!1;b=!0,M=!1}if(w&&!M)return g||(g=new i),b||d(e)?n(e,t,a,m,y,g):s(e,t,v,a,m,y,g);if(!(a&1)){var C=M&&h.call(e,'__wrapped__'),A=_&&h.call(t,'__wrapped__');if(C||A){var O=C?e.value():e,P=A?t.value():t;return g||(g=new i),y(O,P,a,m,g)}}return!!w&&(g||(g=new i),r(e,t,a,m,y,g))}},function(e,t,a){var i=a(80),n=a(83),s=a(84);e.exports=function(e,t,a,r,o,p){var l=a&1,d=e.length,u=t.length;if(d!=u&&!(l&&u>d))return!1;var c=p.get(e);if(c&&p.get(t))return c==t;var f=-1,m=!0,h=a&2?new i:void 0;for(p.set(e,t),p.set(t,e);++f<d;){var y=e[f],g=t[f];if(r)var b=l?r(g,y,f,t,e,p):r(y,g,f,e,t,p);if(void 0!==b){if(b)continue;m=!1;break}if(h){if(!n(t,function(e,t){if(!s(h,t)&&(y===e||o(y,e,a,r,p)))return h.push(t)})){m=!1;break}}else if(!(y===g||o(y,g,a,r,p))){m=!1;break}}return p['delete'](e),p['delete'](t),m}},function(e,t,a){function i(e){var t=-1,a=null==e?0:e.length;for(this.__data__=new n;++t<a;)this.add(e[t])}var n=a(27),s=a(81),r=a(82);i.prototype.add=i.prototype.push=s,i.prototype.has=r,e.exports=i},function(e){e.exports=function(e){return this.__data__.set(e,'__lodash_hash_undefined__'),this}},function(e){e.exports=function(e){return this.__data__.has(e)}},function(e){e.exports=function(e,t){for(var a=-1,i=null==e?0:e.length;++a<i;)if(t(e[a],a,e))return!0;return!1}},function(e){e.exports=function(e,t){return e.has(t)}},function(e,t,a){var i=a(17),n=a(86),s=a(48),r=a(79),o=a(87),p=a(88),l=i?i.prototype:void 0,d=l?l.valueOf:void 0;e.exports=function(e,t,a,i,l,u,c){switch(a){case'[object DataView]':if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case'[object ArrayBuffer]':return!!(e.byteLength==t.byteLength&&u(new n(e),new n(t)));case'[object Boolean]':case'[object Date]':case'[object Number]':return s(+e,+t);case'[object Error]':return e.name==t.name&&e.message==t.message;case'[object RegExp]':case'[object String]':return e==t+'';case'[object Map]':var f=o;case'[object Set]':var m=i&1;if(f||(f=p),e.size!=t.size&&!m)return!1;var h=c.get(e);if(h)return h==t;i|=2,c.set(e,t);var y=r(f(e),f(t),i,l,u,c);return c['delete'](e),y;case'[object Symbol]':if(d)return d.call(e)==d.call(t);}return!1}},function(e,t,a){var i=a(18),n=i.Uint8Array;e.exports=n},function(e){e.exports=function(e){var t=-1,a=Array(e.size);return e.forEach(function(e,i){a[++t]=[i,e]}),a}},function(e){e.exports=function(e){var t=-1,a=Array(e.size);return e.forEach(function(e){a[++t]=e}),a}},function(e,t,a){function i(e,t,a,i,r,p){var l=a&s,d=n(e),u=d.length,c=n(t),f=c.length;if(u!=f&&!l)return!1;for(var m=u,h;m--;)if(h=d[m],l?!(h in t):!o.call(t,h))return!1;var y=p.get(e);if(y&&p.get(t))return y==t;var g=!0;p.set(e,t),p.set(t,e);for(var b=l;++m<u;){h=d[m];var x=e[h],v=t[h];if(i)var k=l?i(v,x,h,t,e,p):i(x,v,h,e,t,p);if(void 0===k?!(x===v||r(x,v,a,i,p)):!k){g=!1;break}b||(b='constructor'==h)}if(g&&!b){var M=e.constructor,_=t.constructor;M!=_&&'constructor'in e&&'constructor'in t&&!('function'==typeof M&&M instanceof M&&'function'==typeof _&&_ instanceof _)&&(g=!1)}return p['delete'](e),p['delete'](t),g}var n=a(90),s=1,r=Object.prototype,o=r.hasOwnProperty;e.exports=i},function(e,t,a){var i=a(91),n=a(93),s=a(96);e.exports=function(e){return i(e,s,n)}},function(e,t,a){var i=a(92),n=a(13);e.exports=function(e,t,a){var s=t(e);return n(e)?s:i(s,a(e))}},function(e){e.exports=function(e,t){for(var a=-1,i=t.length,n=e.length;++a<i;)e[n+a]=t[a];return e}},function(e,t,a){var i=a(94),n=a(95),s=Object.prototype,r=s.propertyIsEnumerable,o=Object.getOwnPropertySymbols,p=o?function(e){return null==e?[]:(e=Object(e),i(o(e),function(t){return r.call(e,t)}))}:n;e.exports=p},function(e){e.exports=function(e,t){for(var a=-1,i=null==e?0:e.length,n=0,s=[];++a<i;){var r=e[a];t(r,a,e)&&(s[n++]=r)}return s}},function(e){e.exports=function(){return[]}},function(e,t,a){var i=a(97),n=a(110),s=a(114);e.exports=function(e){return s(e)?i(e):n(e)}},function(e,t,a){var i=a(98),n=a(99),s=a(13),r=a(101),o=a(104),p=a(105),l=Object.prototype,d=l.hasOwnProperty;e.exports=function(e,t){var a=s(e),l=!a&&n(e),u=!a&&!l&&r(e),c=!a&&!l&&!u&&p(e),f=a||l||u||c,m=f?i(e.length,String):[],h=m.length;for(var y in e)(t||d.call(e,y))&&!(f&&('length'==y||u&&('offset'==y||'parent'==y)||c&&('buffer'==y||'byteLength'==y||'byteOffset'==y)||o(y,h)))&&m.push(y);return m}},function(e){e.exports=function(e,t){for(var a=-1,i=Array(e);++a<e;)i[a]=t(a);return i}},function(e,t,a){var i=a(100),n=a(23),s=Object.prototype,r=s.hasOwnProperty,o=s.propertyIsEnumerable,p=i(function(){return arguments}())?i:function(e){return n(e)&&r.call(e,'callee')&&!o.call(e,'callee')};e.exports=p},function(e,t,a){var i=a(16),n=a(23);e.exports=function(e){return n(e)&&i(e)=='[object Arguments]'}},function(e,t,a){(function(e){var i=a(18),n=a(103),s=t&&!t.nodeType&&t,r=s&&'object'==typeof e&&e&&!e.nodeType&&e,o=r&&r.exports===s,p=o?i.Buffer:void 0,l=p?p.isBuffer:void 0;e.exports=l||n}).call(this,a(102)(e))},function(e){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],!e.children&&(e.children=[]),Object.defineProperty(e,'loaded',{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,'id',{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e){e.exports=function(){return!1}},function(e){var t=/^(?:0|[1-9]\d*)$/;e.exports=function(e,a){var i=typeof e;return a=null==a?9007199254740991:a,!!a&&('number'==i||'symbol'!=i&&t.test(e))&&-1<e&&0==e%1&&e<a}},function(e,t,a){var i=a(106),n=a(108),s=a(109),r=s&&s.isTypedArray,o=r?n(r):i;e.exports=o},function(e,t,a){var i=a(16),n=a(107),s=a(23),r={};r['[object Float32Array]']=r['[object Float64Array]']=r['[object Int8Array]']=r['[object Int16Array]']=r['[object Int32Array]']=r['[object Uint8Array]']=r['[object Uint8ClampedArray]']=r['[object Uint16Array]']=r['[object Uint32Array]']=!0,r['[object Arguments]']=r['[object Array]']=r['[object ArrayBuffer]']=r['[object Boolean]']=r['[object DataView]']=r['[object Date]']=r['[object Error]']=r['[object Function]']=r['[object Map]']=r['[object Number]']=r['[object Object]']=r['[object RegExp]']=r['[object Set]']=r['[object String]']=r['[object WeakMap]']=!1,e.exports=function(e){return s(e)&&n(e.length)&&!!r[i(e)]}},function(e){e.exports=function(e){return'number'==typeof e&&-1<e&&0==e%1&&e<=9007199254740991}},function(e){e.exports=function(e){return function(t){return e(t)}}},function(e,t,a){(function(e){var i=a(19),n=t&&!t.nodeType&&t,s=n&&'object'==typeof e&&e&&!e.nodeType&&e,r=s&&s.exports===n,o=r&&i.process,p=function(){try{var e=s&&s.require&&s.require('util').types;return e?e:o&&o.binding&&o.binding('util')}catch(t){}}();e.exports=p}).call(this,a(102)(e))},function(e,t,a){var i=a(111),n=a(112),s=Object.prototype,r=s.hasOwnProperty;e.exports=function(e){if(!i(e))return n(e);var t=[];for(var a in Object(e))r.call(e,a)&&'constructor'!=a&&t.push(a);return t}},function(e){var t=Object.prototype;e.exports=function(e){var a=e&&e.constructor,i='function'==typeof a&&a.prototype||t;return e===i}},function(e,t,a){var i=a(113),n=i(Object.keys,Object);e.exports=n},function(e){e.exports=function(e,t){return function(a){return e(t(a))}}},function(e,t,a){var i=a(34),n=a(107);e.exports=function(e){return null!=e&&n(e.length)&&!i(e)}},function(e,t,a){var i=a(116),n=a(52),s=a(117),r=a(118),o=a(119),p=a(16),l=a(38),d='[object Map]',u='[object Promise]',c='[object Set]',f='[object WeakMap]',m='[object DataView]',h=l(i),y=l(n),g=l(s),b=l(r),x=l(o),v=p;(i&&v(new i(new ArrayBuffer(1)))!=m||n&&v(new n)!=d||s&&v(s.resolve())!=u||r&&v(new r)!=c||o&&v(new o)!=f)&&(v=function(e){var t=p(e),a=t=='[object Object]'?e.constructor:void 0,i=a?l(a):'';if(i)switch(i){case h:return m;case y:return d;case g:return u;case b:return c;case x:return f;}return t}),e.exports=v},function(e,t,a){var i=a(32),n=a(18),s=i(n,'DataView');e.exports=s},function(e,t,a){var i=a(32),n=a(18),s=i(n,'Promise');e.exports=s},function(e,t,a){var i=a(32),n=a(18),s=i(n,'Set');e.exports=s},function(e,t,a){var i=a(32),n=a(18),s=i(n,'WeakMap');e.exports=s},function(e,t,a){var i=a(121),n=a(96);e.exports=function(e){for(var t=n(e),a=t.length;a--;){var s=t[a],r=e[s];t[a]=[s,r,i(r)]}return t}},function(e,t,a){var i=a(35);e.exports=function(e){return e===e&&!i(e)}},function(e){e.exports=function(e,t){return function(a){return null!=a&&a[e]===t&&(t!==void 0||e in Object(a))}}},function(e,t,a){var i=a(77),n=a(10),s=a(124),r=a(14),o=a(121),p=a(122),l=a(62);e.exports=function(e,t){return r(e)&&o(t)?p(l(e),t):function(a){var r=n(a,e);return r===void 0&&r===t?s(a,e):i(t,r,1|2)}}},function(e,t,a){var i=a(125),n=a(126);e.exports=function(e,t){return null!=e&&n(e,t,i)}},function(e){function t(e,t){return null!=e&&t in Object(e)}e.exports=t},function(e,t,a){var i=a(12),n=a(99),s=a(13),r=a(104),o=a(107),p=a(62);e.exports=function(e,t,a){t=i(t,e);for(var l=-1,d=t.length,u=!1,c;++l<d&&(c=p(t[l]),!!(u=null!=e&&a(e,c)));)e=e[c];return u||++l!=d?u:(d=null==e?0:e.length,!!d&&o(d)&&r(c,d)&&(s(e)||n(e)))}},function(e){e.exports=function(e){return e}},function(e,t,a){var i=a(129),n=a(130),s=a(14),r=a(62);e.exports=function(e){return s(e)?i(r(e)):n(e)}},function(e){e.exports=function(e){return function(t){return null==t?void 0:t[e]}}},function(e,t,a){var i=a(11);e.exports=function(e){return function(t){return i(t,e)}}},function(e,t,a){var i=a(132);e.exports=function(e){var t=i(e),a=t%1;return t===t?a?t-a:t:0}},function(e,t,a){var i=a(133),n=1/0;e.exports=function(e){if(!e)return 0===e?e:0;if(e=i(e),e===n||e===-n){var t=0>e?-1:1;return t*17976931348623157e292}return e===e?e:0}},function(e,t,a){var i=a(35),n=a(15),s=0/0,r=/^\s+|\s+$/g,o=/^[-+]0x[0-9a-f]+$/i,p=/^0b[01]+$/i,l=/^0o[0-7]+$/i,d=parseInt;e.exports=function(e){if('number'==typeof e)return e;if(n(e))return s;if(i(e)){var t='function'==typeof e.valueOf?e.valueOf():e;e=i(t)?t+'':t}if('string'!=typeof e)return 0===e?e:+e;e=e.replace(r,'');var a=p.test(e);return a||l.test(e)?d(e.slice(2),a?2:8):o.test(e)?s:+e}},function(e,t,a){var i=a(16),n=a(135),s=a(23),r=Function.prototype,o=Object.prototype,p=r.toString,l=o.hasOwnProperty,d=p.call(Object);e.exports=function(e){if(!s(e)||i(e)!='[object Object]')return!1;var t=n(e);if(null===t)return!0;var a=l.call(t,'constructor')&&t.constructor;return'function'==typeof a&&a instanceof a&&p.call(a)==d}},function(e,t,a){var i=a(113),n=i(Object.getPrototypeOf,Object);e.exports=n},function(e,t,a){var i=a(1);i.tag2('list-item','<div> <div style="display:inline-block;"> <tree children="{[opts.property]}"></tree> </div> <div style="display:inline-block;" if="{opts.removable}"> <button type="button" onclick="{remove}">Remove</button> </div> </div>','','',function(){this.remove=function(){this.opts.removable&&this.triggerDom('remove',{name:this.opts.property.path})}})},function(e,t,a){'use strict';a.r(t);var i=a(10),n=a.n(i),s=a(1);s.tag2('pragma-table','<div style="overflow: auto;"> <table name="{opts.property.path}" style="width: auto;"> <thead if="{get(opts.property, \'options.headings\')}"> <tr> <th each="{heading in get(opts.property, \'options.headings\', [])}"> {heading} </th> </tr> </thead> <tbody> <tr each="{row in opts.property.children}" key="path"> <th if="{get(opts.property, \'options.showLabel\')}"> {row.name} </th> <td each="{child in row.children}" key="path"> <tree-child data-is="{child.input}" property="{child}"> <tree if="{opts.property.children}" children="{opts.property.children}"></tree> </tree-child> </td> </tr> </tbody> </table> </div>','','',function(){this.get=n.a})},function(e,t,a){'use strict';a.r(t),t['default']={triggerDom:function(e,t,a){a=!(a!==void 0)||a,t&&t instanceof Event||(t=new CustomEvent(e,{bubbles:a,cancelable:!0,detail:t})),this.root.dispatchEvent(t)}}},function(e,t,a){'use strict';function i(e){return i='function'==typeof Symbol&&'symbol'==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&'function'==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?'symbol':typeof e},i(e)}function n(e){return o(e)||r(e)||s()}function s(){throw new TypeError('Invalid attempt to spread non-iterable instance')}function r(e){if(Symbol.iterator in Object(e)||'[object Arguments]'===Object.prototype.toString.call(e))return Array.from(e)}function o(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}}function p(e,t){return u(e)||d(e,t)||l()}function l(){throw new TypeError('Invalid attempt to destructure non-iterable instance')}function d(e,t){var a=[],i=!0,n=!1,s=void 0;try{for(var r=e[Symbol.iterator](),o;!(i=(o=r.next()).done)&&(a.push(o.value),!(t&&a.length===t));i=!0);}catch(e){n=!0,s=e}finally{try{i||null==r['return']||r['return']()}finally{if(n)throw s}}return a}function u(e){if(Array.isArray(e))return e}function c(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function f(e,t){for(var a=0,i;a<t.length;a++)i=t[a],i.enumerable=i.enumerable||!1,i.configurable=!0,'value'in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}function m(e,t,a){return t&&f(e.prototype,t),a&&f(e,a),e}a.r(t),a.d(t,'default',function(){return le});var h=a(140),y=a.n(h),g=a(141),b=a.n(g),x=a(172),k=a.n(x),v=a(190),M=a.n(v),_=a(193),w=a.n(_),C=a(198),A=a.n(C),O=a(201),P=a.n(O),j=a(10),T=a.n(j),F=a(203),D=a.n(F),E=a(205),B=a.n(E),N=a(212),S=a.n(N),z=a(213),I=a.n(z),L=a(219),$=a.n(L),V=a(134),R=a.n(V),U=a(133),H=a.n(U),K=a(222),G=a.n(K),W=a(224),q=a.n(W),Y=a(229),X=a(234),Z=a(237),Q=a.n(Z),J=a(238),ee=a(242),te=a(243),ae=a(244),ie=a(245),ne=a(246),se=a(256),re=a.n(se),oe=a(258),pe=a.n(oe),le=function(){function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};c(this,e),this.casts={string:function(e,t){return null==t?'':''+t},number:function(e,t){return H()(Y.util.clamp(t,T()(e,'options.min'),T()(e,'options.max')))},boolean:function(e,t){return!!t}},this.defaults={},this.setDefaults({"*":{type:'number',visible:!0},virtual:{visible:!1,virtual:!0,omit:!0},string:{input:'string',default:''},number:{input:'number',default:0,options:{min:-100,max:100,step:1}},boolean:{input:'boolean',default:!1},selection:{input:'selection',options:{options:{}}},section:{input:'section'},group:{input:'group'},list:{input:'list'},"list-item":{input:'list-item'},table:{input:'pragma-table'}}),this.inputOptions=k()({},i),this.functions={},this.parser=new y.a.Parser({operators:{in:!0}}),this.addFunctions(k()({concat:function(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return t.join('')},keys:Object.keys,multiply:J['default'],sum:X['default'],sumBy:Q.a,map:w.a,reduce:A.a},a)),this.fields=[],this.dictionary={},this.tree={},this.setFields(t),this.valueCache={},this.expressionCache={},this.expressionDependencies={},this.updatedFields={}}return m(e,[{key:'hasField',value:function(e){return P()(this.dictionary,e)}},{key:'getField',value:function(e){return this.dictionary[e]}},{key:'getFieldParent',value:function(e){return e?this.getField(e.parent):null}},{key:'getFieldAncestors',value:function(e){for(var t=[];e.hasOwnProperty('parent')&&this.hasField(e.parent);)e=this.getFieldParent(e),t.push(e);return t}},{key:'getFieldDescendants',value:function(e){var t=[];return Object(ae['default'])(e,function(e){t.push(e)}),t}},{key:'getFieldValue',value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;return e?(a=S()(a,T()(t,e.path)),e.merge&&R()(e.default)?k()({},e.default,e.value,a):S()(a,S()(e.value,e.default))):a}},{key:'getFieldDefaultValue',value:function(e){return e?e.default:null}},{key:'getFieldTemplate',value:function(e){return e?this.getField(e.extends):null}},{key:'getFieldChildrenKeys',value:function(e){var t=[],a=e.children||[],n;for(n=0;n<a.length;n++)t.push(a[n].pathFragment);return t}},{key:'getFieldChildrenTemplate',value:function(e){return e?this.getField(e.template):null}},{key:'getFieldExpressionDependencies',value:function(e){var t=this.expressionDependencies[e.path];if(!t||!t.length)return[];for(var a=[],n=0,i;n<t.length;n++)(i=this.getField(t[n]),!!i)&&a.push(i);return a}},{key:'getValue',value:function(e){return this.getFieldValue(this.getField(e))}},{key:'castValue',value:function(e,t){return e?this.casts[e.type]?(t=this.casts[e.type](e,t),t):t:t}},{key:'deriveValue',value:function(e,t){if(this.valueCache.hasOwnProperty(e))return this.valueCache[e];var a=this.getField(e),i=this.getFieldValue(a,t);return a?(i=this.castValue(a,i),i=this.evaluateFieldExpression(a,t,i),i=this.getFieldValue(a,t,i),this.valueCache[e]=i,i):i}},{key:'buildFieldExpression',value:function(e){if(null==e.expression||'string'!=typeof e.expression)return null;if(this.expressionCache[e.path])return this.expressionCache[e.path];var t;try{t=this.parser.parse(e.expression)}catch(t){return console.error('Error parsing expression for field \''.concat(e.path,'\': ').concat(t.message)),null}var a={$parent:e.parent};for(var i in a)try{t=t.substitute(i,a[i])}catch(t){return console.error('Error substituting expression variable \''.concat(i,'\' for field \'').concat(e.path,': ').concat(t.message)),null}return this.expressionCache[e.path]=t,t}},{key:'evaluateFieldExpression',value:function(e,t,a){var i=this;a=this.getFieldValue(e,t,a);var n=this.buildFieldExpression(e);if(!n)return a;for(var s=n.variables({withMembers:!0}),r={$this:e,$value:a},o=0,p;o<s.length;o++)p=s[o],P()(r,p)||D()(r,p,this.deriveValue(p,t));r=k()(r,{field:function(e){return s.push(e),i.getField(e)},value:function(e){return s.push(e),i.deriveValue(e,t)}});try{a=n.evaluate(r)}catch(i){console.log('evaluateFieldExpression',e,t,a),console.error('Error evaluating expression for field \''.concat(e.path,'\': ').concat(i.message))}for(var l=0,d;l<s.length;l++)d=s[l],this.expressionDependencies[d]=this.expressionDependencies[d]||[],0>this.expressionDependencies[d].indexOf(e.path)&&this.expressionDependencies[d].push(e.path);return a}},{key:'prepareFields',value:function(e){if(!e||!e.length)return e;var t,a,i,n;for(t=0;t<e.length;t++){a=e[t];var s=Object(ie['default'])(a.path),r=p(s,2);n=r[0],i=r[1],a.pathFragment=S()(a.pathFragment,i),a.parent=S()(a.parent,n)}return e}},{key:'setFields',value:function(e){this.fields=this.prepareFields(e),this.dictionary=this.updateDictionary(this.fields),this.tree=this.buildTree(this.dictionary),this.valueCache={},this.expressionDependencies={}}},{key:'addField',value:function(e){var t=this.getFieldParent(e);return t?void(!t.children&&(t.children=[]),!t.children.includes(e)&&t.children.push(e),this.dictionary[e.path]=e):void console.warn('Could not set field '.concat(e.path,' - its parent does not exist'))}},{key:'setValue',value:function(e,t,a){var i=this.getField(t);return void 0!==a&&(i&&(i.value=a),D()(e,t,a)),this.updatePath(t,e),T()(e,t)}},{key:'clearValueCache',value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:'';if(!e||!this.getField(e))return void(this.valueCache={});for(var t=this.getField(e),a=t.children,n=[],s,i;a&&a.length;){for(n=[],s=0;s<a.length;s++)i=a[s],delete this.valueCache[i.path],i.children&&(n=n.concat(i.children));a=n}delete this.valueCache[t.path];var r=this.getFieldAncestors(t);for(s=0;s<r.length;s++)delete this.valueCache[r[s].path]}},{key:'deriveName',value:function(e){var t=e.path,a=t.lastIndexOf('.');return Y.util.sentenceCase(t.substring(a+1))}},{key:'setDefaults',value:function(e){this.defaults=k()(this.defaults,e)}},{key:'applyDefaults',value:function(e){if(!e||!e.length)return e;var t,a;for(t=0;t<e.length;t++)a=e[t],void 0===a.name&&(a.name=this.deriveName(a)),a=M()(a,this.defaults['*']),this.defaults[a.type]&&(a=M()(a,this.defaults[a.type])),this.inputOptions[a.input]&&(a.options=a.options||{},a.options=M()(a.options,this.inputOptions[a.input])),a.hasOwnProperty('disabled')||(a.disabled=!!a.expression);return e}},{key:'addFunctions',value:function(e){this.functions=k()(this.functions,e),this.parser.functions=k()(this.parser.functions,this.functions)}},{key:'diffFormData',value:function(e){var t=this.buildData(this.tree),a=Object(oe.detailedDiff)(t,e);return a}},{key:'update',value:function(e){this.updatePath('',e)}},{key:'updatePath',value:function(e,t){var a=this,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},s=this.getField(e);if(s&&!n[s.path]){this.clearValueCache(e),Object(ae['default'])(s,function(e){return a.preUpdateField(e,t)},function(e){n[e.path]||(a.updateField(e,t,n),n[e.path]=!0)});var r=this.getFieldAncestors(s),o;for(o=0;o<r.length;o++)n[r[o].path]||(this.updateField(r[o],t,n),n[r[o].path]=!0)}}},{key:'updateFields',value:function(e,t){if(Array.isArray(e)&&e.length)for(var a=0;a<e.length;a++)this.updatePath(e[a].path,t)}},{key:'preUpdateField',value:function(e,t){return this.updateFieldInheritance(e,t),!e.omit}},{key:'updateField',value:function(e,t){var a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};this.applyDefaults([e]),this.updateDataValue(e,t),this.updateFieldValue(e,t),this.updateFieldDependencies(e,t,a)}},{key:'updateDataValue',value:function(e,t){return!e||e.omit||e.virtual?t:(D()(t,e.path,this.deriveValue(e.path,t)),t)}},{key:'updateFieldValue',value:function(e,t){e&&(e.value=T()(t,e.path))}},{key:'updateFieldDependencies',value:function(e,t){for(var a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},n=this.getFieldExpressionDependencies(e),s=0;s<n.length;s++)this.updatePath(n[s].path,t,a)}},{key:'updateFieldAncestorValues',value:function(e,t){var a=this.getFieldAncestors(e),n;for(n=0;n<a.length;n++)this.updateFieldValue(a[n],t)}},{key:'updateFieldInheritance',value:function(e,t){this.updateTemplateFields(e,t),this.inheritTemplate(e,t)}},{key:'diffFieldDataKeys',value:function(e,t){var a=this.getFieldValue(e,t),i=a?Object.keys(a):[],n=this.getFieldChildrenKeys(e),s=I()(i,n),r=$()(i,n),o=I()(n,i);return[s,r,o]}},{key:'updateTemplateFields',value:function(e,t){if(e){var a=this.getFieldChildrenTemplate(e);if(a){var n=[],s=this.diffFieldDataKeys(e,t),r=p(s,3),o=r[0],l=r[1],d=r[2],u=this.getFieldChildrenKeys(e),c=e.fixed||[],f,i,m,h,y,g,b;for(d=I()(d,c),l=l.concat(I()($()(c,u),l,o)),o=o.concat(I()(c,u,o)),f=0;f<d.length;f++)i=d[f],m=Object(ne['default'])(e.path,i),this.removeField(this.getField(m));for(f=0;f<l.length;f++)i=l[f],m=Object(ne['default'])(e.path,i),g=this.getField(m),g.extends=a.path;for(h=this.getFieldValue(e,t),y=this.getFieldDefaultValue(e),f=0;f<o.length;f++)i=o[f],m=Object(ne['default'])(e.path,i),b={path:m,pathFragment:i,parent:e.path,extends:a.path},null!=h&&h.hasOwnProperty(i)&&(b.value=h[i]),null!=y&&y.hasOwnProperty(i)&&(b.default=y[i]),n.push(b);n.length&&(e.children=e.children||[],e.children=e.children.concat(n)),this.updateDictionary(n)}}}},{key:'diffFieldChildrenKeys',value:function(e,t){var a=this.getFieldChildrenKeys(e),i=this.getFieldChildrenKeys(t),n=I()(a,i),s=$()(a,i),r=I()(i,a);return[n,s,r]}},{key:'inheritTemplate',value:function(e,t){if(!e)return e;var a=this.getFieldTemplate(e);if(!a)return e;if(e.extended!==a.path){var i=b()(a);delete i.children,delete i.template,e=k()(e,i,b()(e)),null==e.name&&(e.name=this.deriveName(e)),e.extended=a.path,this.prepareFields([e])}for(var s=[],r=this.diffFieldChildrenKeys(a,e),o=p(r,2),l=o[0],d=o[1],u=0,c,f,m,h,y,g;u<d.length;u++)c=d[u],f=Object(ne['default'])(e.path,c),y=this.getField(f),y.extends=Object(ne['default'])(a.path,c);m=this.getFieldValue(e,t),h=this.getFieldDefaultValue(e);for(var x=0;x<l.length;x++)c=l[x],f=Object(ne['default'])(e.path,c),g={path:f,pathFragment:c,parent:e.path,extends:Object(ne['default'])(a.path,c)},null!=m&&m.hasOwnProperty(c)&&(g.value=m[c]),null!=h&&h.hasOwnProperty(c)&&(g.default=h[c]),s.push(g);if(s.length){e.children=e.children||[],e.children=e.children.concat(s);var v=this.getFieldChildrenKeys(a);v=G()(v,n(v.keys())),e.children=q()(e.children,function(e){return v[e.pathFragment]})}return this.updateDictionary(s),e}},{key:'removeValue',value:function(e,t){this.removePath(t,e)}},{key:'removePath',value:function(e,t){var a=this.getField(e);a&&(this.removeData(a,t),this.updatePath(this.getFieldParent(a).path,t))}},{key:'removeFields',value:function(e){if(!Array.isArray(e)||!e.length)return[];for(var t=[],a=0;a<e.length;a++)t.push(this.removeField(e[a]));return t}},{key:'removeField',value:function(e){var t=this;if(!e)return e;this.clearValueCache(e.path),Object(ae['default'])(e,function(e){delete t.dictionary[e.path],delete t.expressionDependencies[e.path]});var a=this.getFieldParent(e);return B()(a.children,e),e}},{key:'removeData',value:function(e,t){if(e){var a=this.getField(e.parent);if(a){var i=a.path,n=this.getFieldValue(a,t),s=e.pathFragment;Array.isArray(n)?n.splice(s,1):delete n[s],D()(t,i,n)}}}},{key:'updateDictionary',value:function(e){if(!Array.isArray(e))return this.dictionary;for(var t=0;t<e.length;t++)e[t]&&e[t].path&&(this.dictionary[e[t].path]=e[t]);return this.dictionary}},{key:'buildDictionary',value:function(e){return Object(ee['default'])(e)}},{key:'buildTree',value:function(e){return Object(te['default'])(e)}},{key:'buildData',value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if(!e)return t;var a,i;if(e.children){for(var n=0;n<e.children.length;n++)(a=e.children[n],!a.omit)&&(i=this.buildData(e.children[n],t));return t}return D()(t,e.path,S()(e.value,e.default)),t}},{key:'buildTemplateData',value:function(e){var t=this.getFieldChildrenTemplate(e);return t?T()(this.buildData(t),t.path):null}},{key:'addItem',value:function(e,t,a){var n=this.getField(t);if(n){var s=this.buildTemplateData(n),r=T()(e,t,[]);if(Array.isArray(r))r.push(s);else if(null!=a&&'object'===i(r))r[a]=s;else return void console.warn('Could not create new child data for \''.concat(t,'\';')+' either it wasn\'t an array or wasn\'t an object with a key provided');D()(e,t,r),this.updatePath(t,e)}}}]),e}()},function(n){(function(e,t){n.exports=t()})(this,function(){'use strict';function n(e,t){this.type=e,this.value=t!==void 0&&null!==t?t:0}function s(e){return new n(de,e)}function r(e){return new n(ue,e)}function o(e){return new n(ce,e)}function p(e,t,a,s,r){for(var o=[],l=[],d=0,i,u,c,m;d<e.length;d++){var f=e[d],h=f.type;if(h===le)o.push(f);else if(h===fe&&r.hasOwnProperty(f.value))f=new n(le,r[f.value]),o.push(f);else if(h===ue&&1<o.length)u=o.pop(),i=o.pop(),m=a[f.value],f=new n(le,m(i.value,u.value)),o.push(f);else if(h===ce&&2<o.length)c=o.pop(),u=o.pop(),i=o.pop(),'?'===f.value?o.push(i.value?u.value:c.value):(m=s[f.value],f=new n(le,m(i.value,u.value,c.value)),o.push(f));else if(h===de&&0<o.length)i=o.pop(),m=t[f.value],f=new n(le,m(i.value)),o.push(f);else if(h===he){for(;0<o.length;)l.push(o.shift());l.push(new n(he,p(f.value,t,a,s,r)))}else if(h===ye&&0<o.length)i=o.pop(),o.push(new n(le,i.value[f.value]));else{for(;0<o.length;)l.push(o.shift());l.push(f)}}for(;0<o.length;)l.push(o.shift());return l}function l(e,t,a){for(var p=[],d=0;d<e.length;d++){var i=e[d],u=i.type;if(u===fe&&i.value===t)for(var c=0;c<a.tokens.length;c++){var f=a.tokens[c],m;m=f.type===de?s(f.value):f.type===ue?r(f.value):f.type===ce?o(f.value):new n(f.type,f.value),p.push(m)}else u===he?p.push(new n(he,l(i.value,t,a))):p.push(i)}return p}function d(e,t,a){for(var n=[],s=0,i,r,o,p;s<e.length;s++){var l=e[s],u=l.type;if(u===le)n.push(l.value);else if(u===ue)r=n.pop(),i=n.pop(),'and'===l.value?n.push(!!i&&!!d(r,t,a)):'or'===l.value?n.push(!!i||!!d(r,t,a)):(p=t.binaryOps[l.value],n.push(p(i,r)));else if(u===ce)o=n.pop(),r=n.pop(),i=n.pop(),'?'===l.value?n.push(d(i?r:o,t,a)):(p=t.ternaryOps[l.value],n.push(p(i,r,o)));else if(u===fe){if(l.value in t.functions)n.push(t.functions[l.value]);else{var c=a[l.value];if(void 0!==c)n.push(c);else throw new Error('undefined variable: '+l.value)}}else if(u===de)i=n.pop(),p=t.unaryOps[l.value],n.push(p(i));else if(u===me){for(var f=l.value,m=[];0<f--;)m.unshift(n.pop());if(p=n.pop(),p.apply&&p.call)n.push(p.apply(void 0,m));else throw new Error(p+' is not a function')}else if(u===he)n.push(l.value);else if(u===ye)i=n.pop(),n.push(i[l.value]);else throw new Error('invalid Expression')}if(1<n.length)throw new Error('invalid Expression (parity)');return n[0]}function u(e,t){for(var a=[],n=0,i,s,r,o;n<e.length;n++){var p=e[n],l=p.type;if(l===le)'number'==typeof p.value&&0>p.value?a.push('('+p.value+')'):a.push(c(p.value));else if(l===ue)s=a.pop(),i=a.pop(),o=p.value,t?'^'===o?a.push('Math.pow('+i+', '+s+')'):'and'===o?a.push('(!!'+i+' && !!'+s+')'):'or'===o?a.push('(!!'+i+' || !!'+s+')'):'||'===o?a.push('(String('+i+') + String('+s+'))'):'=='===o?a.push('('+i+' === '+s+')'):'!='===o?a.push('('+i+' !== '+s+')'):a.push('('+i+' '+o+' '+s+')'):a.push('('+i+' '+o+' '+s+')');else if(l===ce){if(r=a.pop(),s=a.pop(),i=a.pop(),o=p.value,'?'===o)a.push('('+i+' ? '+s+' : '+r+')');else throw new Error('invalid Expression');}else if(l===fe)a.push(p.value);else if(l===de)i=a.pop(),o=p.value,'-'===o||'+'===o?a.push('('+o+i+')'):t?'not'===o?a.push('(!'+i+')'):'!'===o?a.push('fac('+i+')'):a.push(o+'('+i+')'):'!'===o?a.push('('+i+'!)'):a.push('('+o+' '+i+')');else if(l===me){for(var d=p.value,f=[];0<d--;)f.unshift(a.pop());o=a.pop(),a.push(o+'('+f.join(', ')+')')}else if(l===ye)i=a.pop(),a.push(i+'.'+p.value);else if(l===he)a.push('('+u(p.value,t)+')');else throw new Error('invalid Expression')}if(1<a.length)throw new Error('invalid Expression (parity)');return a[0]+''}function c(e){return'string'==typeof e?JSON.stringify(e).replace(/\u2028/g,'\\u2028').replace(/\u2029/g,'\\u2029'):e}function f(e,t){for(var a=0;a<e.length;a++)if(e[a]===t)return!0;return!1}function m(e,t,a){a=a||{};for(var n=!!a.withMembers,s=null,r=0,i;r<e.length;r++)i=e[r],i.type!==fe||f(t,i.value)?i.type===ye&&n&&null!==s?s+='.'+i.value:i.type===he?m(i.value,t,a):null!==s&&(!f(t,s)&&t.push(s),s=null):n?null===s?s=i.value:(!f(t,s)&&t.push(s),s=i.value):t.push(i.value);null===s||f(t,s)||t.push(s)}function h(e,t){this.tokens=e,this.parser=t,this.unaryOps=t.unaryOps,this.binaryOps=t.binaryOps,this.ternaryOps=t.ternaryOps,this.functions=t.functions}function y(e,t,a){this.type=e,this.value=t,this.index=a}function g(e,t){this.pos=0,this.current=null,this.unaryOps=e.unaryOps,this.binaryOps=e.binaryOps,this.ternaryOps=e.ternaryOps,this.consts=e.consts,this.expression=t,this.savedPosition=0,this.savedCurrent=null,this.options=e.options}function b(e){return Ce.hasOwnProperty(e)?Ce[e]:e}function x(e,t,a){this.parser=e,this.tokens=t,this.current=null,this.nextToken=null,this.next(),this.savedCurrent=null,this.savedNextToken=null,this.allowMemberAccess=!1!==a.allowMemberAccess}function v(e,t){return+e+ +t}function k(e,t){return e-t}function M(e,t){return e*t}function _(e,t){return e/t}function w(e,t){return e%t}function C(e,t){return''+e+t}function A(e,t){return e===t}function O(e,t){return e!==t}function P(e,t){return e>t}function j(e,t){return e<t}function T(e,t){return e>=t}function F(e,t){return e<=t}function D(e,t){return!!(e&&t)}function E(e,t){return!!(e||t)}function B(e,t){return f(t,e)}function N(e){return(pe(e)-pe(-e))/2}function S(e){return(pe(e)+pe(-e))/2}function z(e){return e===Infinity?1:e===-Infinity?-1:(pe(e)-pe(-e))/(pe(e)+pe(-e))}function I(e){return e===-Infinity?e:re(e+oe(e*e+1))}function L(e){return re(e+oe(e*e-1))}function $(e){return re((1+e)/(1-e))/2}function V(e){return re(e)*Math.LOG10E}function R(e){return-e}function U(e){return!e}function H(e){return 0>e?se(e):i(e)}function K(e){return Math.random()*(e||1)}function G(e){return q(e+1)}function W(e){return isFinite(e)&&e===t(e)}function q(e){var a,n;if(W(e)){if(0>=e)return isFinite(e)?Infinity:NaN;if(171<e)return Infinity;for(var s=e-2,r=e-1;1<s;)r*=s,s--;return 0==r&&(r=1),r}if(.5>e)return ne/(ie(ne*e)*q(1-e));if(171.35<=e)return Infinity;if(85<e){var o=e*e,p=o*e,l=p*e,d=l*e;return oe(2*ne/e)*te(e/ae,e)*(1+1/(12*e)+1/(288*o)-139/(51840*p)-571/(2488320*l)+163879/(209018880*d)+5246819/(75246796800*d*e))}--e,n=Te[0];for(var u=1;u<Te.length;++u)n+=Te[u]/(e+u);return a=e+je+.5,oe(2*ne)*te(a,e+.5)*pe(-a)*n}function Y(e){return(e+'').length}function X(){for(var e=0,t=0,a=0;a<arguments.length;a++){var i=ee(arguments[a]),n;t<i?(n=t/i,e=e*n*n+1,t=i):0<i?(n=i/t,e+=n*n):e+=i}return t===Infinity?Infinity:t*oe(e)}function Z(e,t,a){return e?t:a}function Q(e,a){return'undefined'==typeof a||0==+a?t(e):(e=+e,a=-+a,isNaN(e)||'number'!=typeof a||0!=a%1)?NaN:(e=e.toString().split('e'),e=t(+(e[0]+'e'+(e[1]?+e[1]-a:-a))),e=e.toString().split('e'),+(e[0]+'e'+(e[1]?+e[1]+a:a)))}function J(n){var s=Math.hypot,r=Math.log10;this.options=n||{},this.unaryOps={sin:ie,cos:Math.cos,tan:Math.tan,asin:Math.asin,acos:Math.acos,atan:Math.atan,sinh:Math.sinh||N,cosh:Math.cosh||S,tanh:Math.tanh||z,asinh:Math.asinh||I,acosh:Math.acosh||L,atanh:Math.atanh||$,sqrt:oe,log:re,ln:re,lg:r||V,log10:r||V,abs:ee,ceil:se,floor:i,round:t,trunc:Math.trunc||H,"-":R,"+":Number,exp:pe,not:U,length:Y,"!":G},this.binaryOps={"+":v,"-":k,"*":M,"/":_,"%":w,"^":te,"||":C,"==":A,"!=":O,">":P,"<":j,">=":T,"<=":F,and:D,or:E,in:B},this.ternaryOps={"?":Z},this.functions={random:K,fac:G,min:e,max:a,hypot:s||X,pyt:s||X,pow:te,atan2:Math.atan2,if:Z,gamma:q,roundTo:Q},this.consts={E:ae,PI:ne,true:!0,false:!1}}var ee=Math.abs,te=Math.pow,ae=Math.E,ie=Math.sin,ne=Math.PI,se=Math.ceil,re=Math.log,oe=Math.sqrt,pe=Math.exp,le='INUMBER',de='IOP1',ue='IOP2',ce='IOP3',fe='IVAR',me='IFUNCALL',he='IEXPR',ye='IMEMBER';n.prototype.toString=function(){switch(this.type){case le:case de:case ue:case ce:case fe:return this.value;case me:return'CALL '+this.value;case ye:return'.'+this.value;default:return'Invalid Instruction';}},h.prototype.simplify=function(e){return e=e||{},new h(p(this.tokens,this.unaryOps,this.binaryOps,this.ternaryOps,e),this.parser)},h.prototype.substitute=function(e,t){return t instanceof h||(t=this.parser.parse(t+'')),new h(l(this.tokens,e,t),this.parser)},h.prototype.evaluate=function(e){return e=e||{},d(this.tokens,this,e)},h.prototype.toString=function(){return u(this.tokens,!1)},h.prototype.symbols=function(e){e=e||{};var t=[];return m(this.tokens,t,e),t},h.prototype.variables=function(e){e=e||{};var t=[];m(this.tokens,t,e);var a=this.functions;return t.filter(function(e){return!(e in a)})},h.prototype.toJSFunction=function(e,t){var a=this,i=new Function(e,'with(this.functions) with (this.ternaryOps) with (this.binaryOps) with (this.unaryOps) { return '+u(this.simplify(t).tokens,!0)+'; }');return function(){return i.apply(a,arguments)}};var ge='TEOF',be='TOP',xe='TNUMBER',ve='TSTRING',ke='TPAREN',Me='TCOMMA',_e='TNAME';y.prototype.toString=function(){return this.type+': '+this.value},g.prototype.newToken=function(e,t,a){return new y(e,t,null==a?this.pos:a)},g.prototype.save=function(){this.savedPosition=this.pos,this.savedCurrent=this.current},g.prototype.restore=function(){this.pos=this.savedPosition,this.current=this.savedCurrent},g.prototype.next=function(){if(this.pos>=this.expression.length)return this.newToken(ge,'EOF');return this.isWhitespace()||this.isComment()?this.next():this.isRadixInteger()||this.isNumber()||this.isOperator()||this.isString()||this.isParen()||this.isComma()||this.isNamedOp()||this.isConst()||this.isName()?this.current:void this.parseError('Unknown character "'+this.expression.charAt(this.pos)+'"')},g.prototype.isString=function(){var e=!1,t=this.pos,a=this.expression.charAt(t);if('\''===a||'"'===a)for(var i=this.expression.indexOf(a,t+1);0<=i&&this.pos<this.expression.length;){if(this.pos=i+1,'\\'!==this.expression.charAt(i-1)){var n=this.expression.substring(t+1,i);this.current=this.newToken(ve,this.unescape(n),t),e=!0;break}i=this.expression.indexOf(a,i+1)}return e},g.prototype.isParen=function(){var e=this.expression.charAt(this.pos);return!('('!==e&&')'!==e)&&(this.current=this.newToken(ke,e),this.pos++,!0)},g.prototype.isComma=function(){var e=this.expression.charAt(this.pos);return!(','!==e)&&(this.current=this.newToken(Me,','),this.pos++,!0)},g.prototype.isConst=function(){for(var e=this.pos,t=e;t<this.expression.length;t++){var a=this.expression.charAt(t);if(a.toUpperCase()===a.toLowerCase()&&(t===this.pos||'_'!==a&&'.'!==a&&('0'>a||'9'<a)))break}if(t>e){var i=this.expression.substring(e,t);if(i in this.consts)return this.current=this.newToken(xe,this.consts[i]),this.pos+=i.length,!0}return!1},g.prototype.isNamedOp=function(){for(var e=this.pos,t=e;t<this.expression.length;t++){var a=this.expression.charAt(t);if(a.toUpperCase()===a.toLowerCase()&&(t===this.pos||'_'!==a&&('0'>a||'9'<a)))break}if(t>e){var i=this.expression.substring(e,t);if(this.isOperatorEnabled(i)&&(i in this.binaryOps||i in this.unaryOps||i in this.ternaryOps))return this.current=this.newToken(be,i),this.pos+=i.length,!0}return!1},g.prototype.isName=function(){for(var e=this.pos,t=e,a=!1;t<this.expression.length;t++){var i=this.expression.charAt(t);if(!(i.toUpperCase()===i.toLowerCase()))a=!0;else if(t===this.pos&&('$'===i||'_'===i)){'_'===i&&(a=!0);continue}else if(t===this.pos||!a||'_'!==i&&('0'>i||'9'<i))break}if(a){var n=this.expression.substring(e,t);return this.current=this.newToken(_e,n),this.pos+=n.length,!0}return!1},g.prototype.isWhitespace=function(){for(var e=!1,t=this.expression.charAt(this.pos);(' '===t||'\t'===t||'\n'===t||'\r'===t)&&(e=!0,this.pos++,!(this.pos>=this.expression.length));)t=this.expression.charAt(this.pos);return e};var we=/^[0-9a-f]{4}$/i;g.prototype.unescape=function(e){var t=e.indexOf('\\');if(0>t)return e;for(var a=e.substring(0,t);0<=t;){var i=e.charAt(++t);switch(i){case'\'':a+='\'';break;case'"':a+='"';break;case'\\':a+='\\';break;case'/':a+='/';break;case'b':a+='\b';break;case'f':a+='\f';break;case'n':a+='\n';break;case'r':a+='\r';break;case't':a+='\t';break;case'u':var n=e.substring(t+1,t+5);we.test(n)||this.parseError('Illegal escape sequence: \\u'+n),a+=String.fromCharCode(parseInt(n,16)),t+=4;break;default:throw this.parseError('Illegal escape sequence: "\\'+i+'"');}++t;var s=e.indexOf('\\',t);a+=e.substring(t,0>s?e.length:s),t=s}return a},g.prototype.isComment=function(){var e=this.expression.charAt(this.pos);return!('/'!==e||'*'!==this.expression.charAt(this.pos+1))&&(this.pos=this.expression.indexOf('*/',this.pos)+2,1===this.pos&&(this.pos=this.expression.length),!0)},g.prototype.isRadixInteger=function(){var e=this.pos;if(e>=this.expression.length-2||'0'!==this.expression.charAt(e))return!1;++e;var t,a;if('x'===this.expression.charAt(e))t=16,a=/^[0-9a-f]$/i,++e;else if('b'===this.expression.charAt(e))t=2,a=/^[01]$/i,++e;else return!1;for(var i=!1,n=e,s;e<this.expression.length&&(s=this.expression.charAt(e),a.test(s));)e++,i=!0;return i&&(this.current=this.newToken(xe,parseInt(this.expression.substring(n,e),t)),this.pos=e),i},g.prototype.isNumber=function(){for(var e=!1,t=this.pos,a=t,i=t,n=!1,s=!1,r;t<this.expression.length&&(r=this.expression.charAt(t),'0'<=r&&'9'>=r||!n&&'.'===r);)'.'===r?n=!0:s=!0,t++,e=s;if(e&&(i=t),'e'===r||'E'===r){t++;for(var o=!0,p=!1;t<this.expression.length;){if(r=this.expression.charAt(t),o&&('+'===r||'-'===r))o=!1;else if('0'<=r&&'9'>=r)p=!0,o=!1;else break;t++}p||(t=i)}return e?(this.current=this.newToken(xe,parseFloat(this.expression.substring(a,t))),this.pos=t):this.pos=i,e},g.prototype.isOperator=function(){var e=this.pos,t=this.expression.charAt(this.pos);if('+'===t||'-'===t||'*'===t||'/'===t||'%'===t||'^'===t||'?'===t||':'===t||'.'===t)this.current=this.newToken(be,t);else if('\u2219'===t||'\u2022'===t)this.current=this.newToken(be,'*');else if('>'===t)'='===this.expression.charAt(this.pos+1)?(this.current=this.newToken(be,'>='),this.pos++):this.current=this.newToken(be,'>');else if('<'===t)'='===this.expression.charAt(this.pos+1)?(this.current=this.newToken(be,'<='),this.pos++):this.current=this.newToken(be,'<');else if('|'===t){if('|'===this.expression.charAt(this.pos+1))this.current=this.newToken(be,'||'),this.pos++;else return!1;}else if('='===t){if('='===this.expression.charAt(this.pos+1))this.current=this.newToken(be,'=='),this.pos++;else return!1;}else if('!'===t)'='===this.expression.charAt(this.pos+1)?(this.current=this.newToken(be,'!='),this.pos++):this.current=this.newToken(be,t);else return!1;return this.pos++,!!this.isOperatorEnabled(this.current.value)||(this.pos=e,!1)};var Ce={"+":'add',"-":'subtract',"*":'multiply',"/":'divide',"%":'remainder',"^":'power',"!":'factorial',"<":'comparison',">":'comparison',"<=":'comparison',">=":'comparison',"==":'comparison',"!=":'comparison',"||":'concatenate',and:'logical',or:'logical',not:'logical',"?":'conditional',":":'conditional'};g.prototype.isOperatorEnabled=function(e){var t=b(e),a=this.options.operators||{};return'in'===t?!!a['in']:!(t in a)||!!a[t]},g.prototype.getCoordinates=function(){var e=0,t=-1,a;do e++,a=this.pos-t,t=this.expression.indexOf('\n',t+1);while(0<=t&&t<this.pos);return{line:e,column:a}},g.prototype.parseError=function(e){var t=this.getCoordinates();throw new Error('parse error ['+t.line+':'+t.column+']: '+e)},x.prototype.next=function(){return this.current=this.nextToken,this.nextToken=this.tokens.next()},x.prototype.tokenMatches=function(e,t){return!('undefined'!=typeof t)||(Array.isArray(t)?f(t,e.value):'function'==typeof t?t(e):e.value===t)},x.prototype.save=function(){this.savedCurrent=this.current,this.savedNextToken=this.nextToken,this.tokens.save()},x.prototype.restore=function(){this.tokens.restore(),this.current=this.savedCurrent,this.nextToken=this.savedNextToken},x.prototype.accept=function(e,t){return!!(this.nextToken.type===e&&this.tokenMatches(this.nextToken,t))&&(this.next(),!0)},x.prototype.expect=function(e,t){if(!this.accept(e,t)){var a=this.tokens.getCoordinates();throw new Error('parse error ['+a.line+':'+a.column+']: Expected '+(t||e))}},x.prototype.parseAtom=function(e){if(this.accept(_e))e.push(new n(fe,this.current.value));else if(this.accept(xe))e.push(new n(le,this.current.value));else if(this.accept(ve))e.push(new n(le,this.current.value));else if(this.accept(ke,'('))this.parseExpression(e),this.expect(ke,')');else throw new Error('unexpected '+this.nextToken)},x.prototype.parseExpression=function(e){this.parseConditionalExpression(e)},x.prototype.parseConditionalExpression=function(e){for(this.parseOrExpression(e);this.accept(be,'?');){var t=[],a=[];this.parseConditionalExpression(t),this.expect(be,':'),this.parseConditionalExpression(a),e.push(new n(he,t)),e.push(new n(he,a)),e.push(o('?'))}},x.prototype.parseOrExpression=function(e){for(this.parseAndExpression(e);this.accept(be,'or');){var t=[];this.parseAndExpression(t),e.push(new n(he,t)),e.push(r('or'))}},x.prototype.parseAndExpression=function(e){for(this.parseComparison(e);this.accept(be,'and');){var t=[];this.parseComparison(t),e.push(new n(he,t)),e.push(r('and'))}};var Ae=['==','!=','<','<=','>=','>','in'];x.prototype.parseComparison=function(e){for(this.parseAddSub(e);this.accept(be,Ae);){var t=this.current;this.parseAddSub(e),e.push(r(t.value))}};var Oe=['+','-','||'];x.prototype.parseAddSub=function(e){for(this.parseTerm(e);this.accept(be,Oe);){var t=this.current;this.parseTerm(e),e.push(r(t.value))}};var Pe=['*','/','%'];x.prototype.parseTerm=function(e){for(this.parseFactor(e);this.accept(be,Pe);){var t=this.current;this.parseFactor(e),e.push(r(t.value))}},x.prototype.parseFactor=function(e){function t(e){return e.value in a}var a=this.tokens.unaryOps;if(this.save(),!this.accept(be,t))this.parseExponential(e);else if('-'!==this.current.value&&'+'!==this.current.value&&this.nextToken.type===ke&&'('===this.nextToken.value)this.restore(),this.parseExponential(e);else{var i=this.current;this.parseFactor(e),e.push(s(i.value))}},x.prototype.parseExponential=function(e){for(this.parsePostfixExpression(e);this.accept(be,'^');)this.parseFactor(e),e.push(r('^'))},x.prototype.parsePostfixExpression=function(e){for(this.parseFunctionCall(e);this.accept(be,'!');)e.push(s('!'))},x.prototype.parseFunctionCall=function(e){function t(e){return e.value in a}var a=this.tokens.unaryOps;if(this.accept(be,t)){var i=this.current;this.parseAtom(e),e.push(s(i.value))}else for(this.parseMemberExpression(e);this.accept(ke,'(');)if(this.accept(ke,')'))e.push(new n(me,0));else{var r=this.parseArgumentList(e);e.push(new n(me,r))}},x.prototype.parseArgumentList=function(e){for(var t=0;!this.accept(ke,')');)for(this.parseExpression(e),++t;this.accept(Me);)this.parseExpression(e),++t;return t},x.prototype.parseMemberExpression=function(e){for(this.parseAtom(e);this.accept(be,'.');){if(!this.allowMemberAccess)throw new Error('unexpected ".", member access is not permitted');this.expect(_e),e.push(new n(ye,this.current.value))}};var je=4.7421875,Te=[.9999999999999971,57.15623566586292,-59.59796035547549,14.136097974741746,-.4919138160976202,3399464998481189e-20,4652362892704858e-20,-9837447530487956e-20,.0001580887032249125,-.00021026444172410488,.00021743961811521265,-.0001643181065367639,8441822398385275e-20,-26190838401581408e-21,36899182659531625e-22];J.prototype.parse=function(e){var t=[],a=new x(this,new g(this,e),{allowMemberAccess:this.options.allowMemberAccess});return a.parseExpression(t),a.expect(ge,'EOF'),new h(t,this)},J.prototype.evaluate=function(e,t){return this.parse(e).evaluate(t)};var Fe=new J;J.parse=function(e){return Fe.parse(e)},J.evaluate=function(e,t){return Fe.parse(e).evaluate(t)};/*!
   Based on ndef.parser, by Raphael Graf(r@undefined.ch)
   http://www.undefined.ch/mparser/index.html

   Ported to JavaScript and modified by Matthew Crumley (email@matthewcrumley.com, http://silentmatt.com/)

   You are free to use and modify this code in anyway you find useful. Please leave this comment in the code
   to acknowledge its original source. If you feel like it, I enjoy hearing about projects that use my code,
   but don't feel like you have to let me know or ask permission.
  */return{Parser:J,Expression:h}})},function(e,t,a){var i=a(142);e.exports=function(e){return i(e,4)}},function(e,t,a){function i(e,t,a,E,B,N){var S=t&C,z=t&A,I;if(a&&(I=B?a(e,E,B,N):a(e)),void 0!==I)return I;if(!M(e))return e;var L=x(e);if(!L){var $=h(e),V=$==j||$==T;if(v(e))return l(e,S);if($!=F&&$!=P&&(!V||B)){if(!D[$])return B?e:{};I=g(e,$,S)}else if(I=z||V?{}:b(e),!S)return z?c(e,p(I,e)):u(e,o(I,e))}else if(I=y(e),!S)return d(e,I);N||(N=new n);var R=N.get(e);if(R)return R;if(N.set(e,I),_(e))return e.forEach(function(n){I.add(i(n,t,a,n,e,N))}),I;if(k(e))return e.forEach(function(n,s){I.set(s,i(n,t,a,s,e,N))}),I;var U=t&O?z?m:f:z?keysIn:w,H=L?void 0:U(e);return s(H||e,function(n,s){H&&(s=n,n=e[s]),r(I,s,i(n,t,a,s,e,N))}),I}var n=a(71),s=a(143),r=a(144),o=a(147),p=a(149),l=a(153),d=a(154),u=a(155),c=a(156),f=a(90),m=a(158),h=a(115),y=a(159),g=a(160),b=a(166),x=a(13),v=a(101),k=a(168),M=a(35),_=a(170),w=a(96),C=1,A=2,O=4,P='[object Arguments]',j='[object Function]',T='[object GeneratorFunction]',F='[object Object]',D={};D[P]=D['[object Array]']=D['[object ArrayBuffer]']=D['[object DataView]']=D['[object Boolean]']=D['[object Date]']=D['[object Float32Array]']=D['[object Float64Array]']=D['[object Int8Array]']=D['[object Int16Array]']=D['[object Int32Array]']=D['[object Map]']=D['[object Number]']=D[F]=D['[object RegExp]']=D['[object Set]']=D['[object String]']=D['[object Symbol]']=D['[object Uint8Array]']=D['[object Uint8ClampedArray]']=D['[object Uint16Array]']=D['[object Uint32Array]']=!0,D['[object Error]']=D[j]=D['[object WeakMap]']=!1,e.exports=i},function(e){e.exports=function(e,t){for(var a=-1,i=null==e?0:e.length;++a<i&&!(!1===t(e[a],a,e)););return e}},function(e,t,a){function i(e,t,a){var i=e[t];o.call(e,t)&&s(i,a)&&(a!==void 0||t in e)||n(e,t,a)}var n=a(145),s=a(48),r=Object.prototype,o=r.hasOwnProperty;e.exports=i},function(e,t,a){var i=a(146);e.exports=function(e,t,a){'__proto__'==t&&i?i(e,t,{configurable:!0,enumerable:!0,value:a,writable:!0}):e[t]=a}},function(e,t,a){var i=a(32),n=function(){try{var e=i(Object,'defineProperty');return e({},'',{}),e}catch(t){}}();e.exports=n},function(e,t,a){var i=a(148),n=a(96);e.exports=function(e,t){return e&&i(t,n(t),e)}},function(e,t,a){var i=a(144),n=a(145);e.exports=function(e,t,a,s){var r=!a;a||(a={});for(var o=-1,p=t.length;++o<p;){var l=t[o],d=s?s(a[l],e[l],l,a,e):void 0;d===void 0&&(d=e[l]),r?n(a,l,d):i(a,l,d)}return a}},function(e,t,a){var i=a(148),n=a(150);e.exports=function(e,t){return e&&i(t,n(t),e)}},function(e,t,a){var i=a(97),n=a(151),s=a(114);e.exports=function(e){return s(e)?i(e,!0):n(e)}},function(e,t,a){var i=a(35),n=a(111),s=a(152),r=Object.prototype,o=r.hasOwnProperty;e.exports=function(e){if(!i(e))return s(e);var t=n(e),a=[];for(var r in e)('constructor'!=r||!t&&o.call(e,r))&&a.push(r);return a}},function(e){e.exports=function(e){var t=[];if(null!=e)for(var a in Object(e))t.push(a);return t}},function(e,t,a){(function(e){var i=a(18),n=t&&!t.nodeType&&t,s=n&&'object'==typeof e&&e&&!e.nodeType&&e,r=s&&s.exports===n,o=r?i.Buffer:void 0,p=o?o.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var a=e.length,i=p?p(a):new e.constructor(a);return e.copy(i),i}}).call(this,a(102)(e))},function(e){e.exports=function(e,t){var a=-1,i=e.length;for(t||(t=Array(i));++a<i;)t[a]=e[a];return t}},function(e,t,a){var i=a(148),n=a(93);e.exports=function(e,t){return i(e,n(e),t)}},function(e,t,a){var i=a(148),n=a(157);e.exports=function(e,t){return i(e,n(e),t)}},function(e,t,a){var i=a(92),n=a(135),s=a(93),r=a(95),o=Object.getOwnPropertySymbols,p=o?function(e){for(var t=[];e;)i(t,s(e)),e=n(e);return t}:r;e.exports=p},function(e,t,a){var i=a(91),n=a(157),s=a(150);e.exports=function(e){return i(e,s,n)}},function(e){var t=Object.prototype,a=t.hasOwnProperty;e.exports=function(e){var t=e.length,i=new e.constructor(t);return t&&'string'==typeof e[0]&&a.call(e,'index')&&(i.index=e.index,i.input=e.input),i}},function(e,t,a){var i=a(161),n=a(162),s=a(163),r=a(164),o=a(165);e.exports=function(e,t,a){var p=e.constructor;return t==='[object ArrayBuffer]'?i(e):t==='[object Boolean]'||t==='[object Date]'?new p(+e):t==='[object DataView]'?n(e,a):t==='[object Float32Array]'||t==='[object Float64Array]'||t==='[object Int8Array]'||t==='[object Int16Array]'||t==='[object Int32Array]'||t==='[object Uint8Array]'||t==='[object Uint8ClampedArray]'||t==='[object Uint16Array]'||t==='[object Uint32Array]'?o(e,a):t==='[object Map]'?new p:t==='[object Number]'||t==='[object String]'?new p(e):t==='[object RegExp]'?s(e):t==='[object Set]'?new p:t==='[object Symbol]'?r(e):void 0}},function(e,t,a){var i=a(86);e.exports=function(e){var t=new e.constructor(e.byteLength);return new i(t).set(new i(e)),t}},function(e,t,a){var i=a(161);e.exports=function(e,t){var a=t?i(e.buffer):e.buffer;return new e.constructor(a,e.byteOffset,e.byteLength)}},function(e){var t=/\w*$/;e.exports=function(e){var a=new e.constructor(e.source,t.exec(e));return a.lastIndex=e.lastIndex,a}},function(e,t,a){var i=a(17),n=i?i.prototype:void 0,s=n?n.valueOf:void 0;e.exports=function(e){return s?Object(s.call(e)):{}}},function(e,t,a){var i=a(161);e.exports=function(e,t){var a=t?i(e.buffer):e.buffer;return new e.constructor(a,e.byteOffset,e.length)}},function(e,t,a){var i=a(167),n=a(135),s=a(111);e.exports=function(e){return'function'!=typeof e.constructor||s(e)?{}:i(n(e))}},function(e,t,a){var i=a(35),n=Object.create,s=function(){function e(){}return function(t){if(!i(t))return{};if(n)return n(t);e.prototype=t;var a=new e;return e.prototype=void 0,a}}();e.exports=s},function(e,t,a){var i=a(169),n=a(108),s=a(109),r=s&&s.isMap,o=r?n(r):i;e.exports=o},function(e,t,a){var i=a(115),n=a(23);e.exports=function(e){return n(e)&&i(e)=='[object Map]'}},function(e,t,a){var i=a(171),n=a(108),s=a(109),r=s&&s.isSet,o=r?n(r):i;e.exports=o},function(e,t,a){var i=a(115),n=a(23);e.exports=function(e){return n(e)&&i(e)=='[object Set]'}},function(e,t,a){var i=a(173),n=a(181),s=n(function(e,t,a){i(e,t,a)});e.exports=s},function(e,t,a){function i(e,t,a,u,c){e===t||r(t,function(r,l){if(p(r))c||(c=new n),o(e,t,l,a,i,u,c);else{var f=u?u(d(e,l),r,l+'',e,t,c):void 0;f===void 0&&(f=r),s(e,l,f)}},l)}var n=a(71),s=a(174),r=a(175),o=a(177),p=a(35),l=a(150),d=a(179);e.exports=i},function(e,t,a){function i(e,t,a){(a===void 0||s(e[t],a))&&(a!==void 0||t in e)||n(e,t,a)}var n=a(145),s=a(48);e.exports=i},function(e,t,a){var i=a(176),n=i();e.exports=n},function(e){e.exports=function(e){return function(t,a,i){for(var n=-1,s=Object(t),r=i(t),o=r.length;o--;){var p=r[e?o:++n];if(!1===a(s[p],p,s))break}return t}}},function(e,t,a){var i=a(174),n=a(153),s=a(165),r=a(154),o=a(166),p=a(99),l=a(13),d=a(178),u=a(101),c=a(34),f=a(35),m=a(134),h=a(105),y=a(179),g=a(180);e.exports=function(e,t,a,b,x,v,k){var M=y(e,a),_=y(t,a),w=k.get(_);if(w)return void i(e,a,w);var C=v?v(M,_,a+'',e,t,k):void 0,A=C===void 0;if(A){var O=l(_),P=!O&&u(_),j=!O&&!P&&h(_);C=_,O||P||j?l(M)?C=M:d(M)?C=r(M):P?(A=!1,C=n(_,!0)):j?(A=!1,C=s(_,!0)):C=[]:m(_)||p(_)?(C=M,p(M)?C=g(M):(!f(M)||c(M))&&(C=o(_))):A=!1}A&&(k.set(_,C),x(C,_,b,v,k),k['delete'](_)),i(e,a,C)}},function(e,t,a){var i=a(114),n=a(23);e.exports=function(e){return n(e)&&i(e)}},function(e){e.exports=function(e,t){return'__proto__'==t?void 0:e[t]}},function(e,t,a){var i=a(148),n=a(150);e.exports=function(e){return i(e,n(e))}},function(e,t,a){var i=a(182),n=a(189);e.exports=function(e){return i(function(t,a){var i=-1,s=a.length,r=1<s?a[s-1]:void 0,o=2<s?a[2]:void 0;for(r=3<e.length&&'function'==typeof r?(s--,r):void 0,o&&n(a[0],a[1],o)&&(r=3>s?void 0:r,s=1),t=Object(t);++i<s;){var p=a[i];p&&e(t,p,i,r)}return t})}},function(e,t,a){var i=a(127),n=a(183),s=a(185);e.exports=function(e,t){return s(n(e,t,i),e+'')}},function(e,t,i){var n=i(184),s=a;e.exports=function(e,t,a){return t=s(void 0===t?e.length-1:t,0),function(){for(var i=arguments,r=-1,o=s(i.length-t,0),p=Array(o);++r<o;)p[r]=i[t+r];r=-1;for(var l=Array(t+1);++r<t;)l[r]=i[r];return l[t]=a(p),n(e,this,l)}}},function(e){e.exports=function(e,t,a){switch(a.length){case 0:return e.call(t);case 1:return e.call(t,a[0]);case 2:return e.call(t,a[0],a[1]);case 3:return e.call(t,a[0],a[1],a[2]);}return e.apply(t,a)}},function(e,t,a){var i=a(186),n=a(188),s=n(i);e.exports=s},function(e,t,a){var i=a(187),n=a(146),s=a(127),r=n?function(e,t){return n(e,'toString',{configurable:!0,enumerable:!1,value:i(t),writable:!0})}:s;e.exports=r},function(e){e.exports=function(e){return function(){return e}}},function(e){var t=Date.now;e.exports=function(e){var a=0,i=0;return function(){var n=t(),s=16-(n-i);if(i=n,!(0<s))a=0;else if(++a>=800)return arguments[0];return e.apply(void 0,arguments)}}},function(e,t,a){function i(e,t,a){if(!o(a))return!1;var i=typeof t;return!('number'==i?!(s(a)&&r(t,a.length)):!('string'==i&&t in a))&&n(a[t],e)}var n=a(48),s=a(114),r=a(104),o=a(35);e.exports=i},function(e,t,a){var i=a(184),n=a(182),s=a(191),r=a(192),o=n(function(e){return e.push(void 0,s),i(r,void 0,e)});e.exports=o},function(e,t,a){function i(e,t,a,r,o,p){return s(e)&&s(t)&&(p.set(t,e),n(e,t,void 0,i,p),p['delete'](t)),e}var n=a(173),s=a(35);e.exports=i},function(e,t,a){var i=a(173),n=a(181),s=n(function(e,t,a,n){i(e,t,a,n)});e.exports=s},function(e,t,a){var i=a(61),n=a(68),s=a(194),r=a(13);e.exports=function(e,t){var a=r(e)?i:s;return a(e,n(t,3))}},function(e,t,a){var i=a(195),n=a(114);e.exports=function(e,t){var a=-1,s=n(e)?Array(e.length):[];return i(e,function(e,i,n){s[++a]=t(e,i,n)}),s}},function(e,t,a){var i=a(196),n=a(197),s=n(i);e.exports=s},function(e,t,a){var i=a(175),n=a(96);e.exports=function(e,t){return e&&i(e,t,n)}},function(e,t,a){var i=a(114);e.exports=function(e,t){return function(a,n){if(null==a)return a;if(!i(a))return e(a,n);for(var s=a.length,r=t?s:-1,o=Object(a);(t?r--:++r<s)&&!(!1===n(o[r],r,o)););return a}}},function(e,t,a){var i=a(199),n=a(195),s=a(68),r=a(200),o=a(13);e.exports=function(e,t,a){var p=o(e)?i:r,l=3>arguments.length;return p(e,s(t,4),a,l,n)}},function(e){e.exports=function(e,t,a,i){var n=-1,s=null==e?0:e.length;for(i&&s&&(a=e[++n]);++n<s;)a=t(a,e[n],n,e);return a}},function(e){e.exports=function(e,t,a,i,n){return n(e,function(e,n,s){a=i?(i=!1,e):t(a,e,n,s)}),a}},function(e,t,a){var i=a(202),n=a(126);e.exports=function(e,t){return null!=e&&n(e,t,i)}},function(e){var t=Object.prototype,a=t.hasOwnProperty;e.exports=function(e,t){return null!=e&&a.call(e,t)}},function(e,t,a){var i=a(204);e.exports=function(e,t,a){return null==e?e:i(e,t,a)}},function(e,t,a){var i=a(144),n=a(12),s=a(104),r=a(35),o=a(62);e.exports=function(e,t,a,p){if(!r(e))return e;t=n(t,e);for(var l=-1,d=t.length,u=e;null!=u&&++l<d;){var c=o(t[l]),f=a;if(l!=d-1){var m=u[c];f=p?p(m,c,u):void 0,f===void 0&&(f=r(m)?m:s(t[l+1])?[]:{})}i(u,c,f),u=u[c]}return e}},function(e,t,a){var i=a(182),n=a(206),s=i(n);e.exports=s},function(e,t,a){var i=a(207);e.exports=function(e,t){return e&&e.length&&t&&t.length?i(e,t):e}},function(e,t,a){var i=a(61),n=a(208),s=a(211),r=a(108),o=a(154),p=Array.prototype,l=p.splice;e.exports=function(e,t,a,p){var d=p?s:n,u=-1,c=t.length,f=e;for(e===t&&(t=o(t)),a&&(f=i(e,r(a)));++u<c;)for(var m=0,h=t[u],y=a?a(h):h;-1<(m=d(f,y,m,p));)f!==e&&l.call(f,m,1),l.call(e,m,1);return e}},function(e,t,a){var i=a(67),n=a(209),s=a(210);e.exports=function(e,t,a){return t===t?s(e,t,a):i(e,n,a)}},function(e){e.exports=function(e){return e!==e}},function(e){e.exports=function(e,t,a){for(var i=a-1,n=e.length;++i<n;)if(e[i]===t)return i;return-1}},function(e){e.exports=function(e,t,a,i){for(var n=a-1,s=e.length;++n<s;)if(i(e[n],t))return n;return-1}},function(e){e.exports=function(e,t){return null==e||e!==e?t:e}},function(e,t,a){var i=a(214),n=a(217),s=a(182),r=a(178),o=s(function(e,t){return r(e)?i(e,n(t,1,r,!0)):[]});e.exports=o},function(e,t,a){var i=a(80),n=a(215),s=a(216),r=a(61),o=a(108),p=a(84);e.exports=function(e,t,a,l){var d=-1,u=n,c=!0,f=e.length,m=[],h=t.length;if(!f)return m;a&&(t=r(t,o(a))),l?(u=s,c=!1):t.length>=200&&(u=p,c=!1,t=new i(t));outer:for(;++d<f;){var y=e[d],g=null==a?y:a(y);if(y=l||0!==y?y:0,c&&g===g){for(var b=h;b--;)if(t[b]===g)continue outer;m.push(y)}else u(t,g,l)||m.push(y)}return m}},function(e,t,a){var i=a(208);e.exports=function(e,t){var a=null==e?0:e.length;return!!a&&-1<i(e,t,0)}},function(e){e.exports=function(e,t,a){for(var i=-1,n=null==e?0:e.length;++i<n;)if(a(t,e[i]))return!0;return!1}},function(e,t,a){function i(e,t,a,r,o){var p=-1,l=e.length;for(a||(a=s),o||(o=[]);++p<l;){var d=e[p];0<t&&a(d)?1<t?i(d,t-1,a,r,o):n(o,d):!r&&(o[o.length]=d)}return o}var n=a(92),s=a(218);e.exports=i},function(e,t,a){var i=a(17),n=a(99),s=a(13),r=i?i.isConcatSpreadable:void 0;e.exports=function(e){return s(e)||n(e)||!!(r&&e&&e[r])}},function(e,t,a){var i=a(61),n=a(220),s=a(182),r=a(221),o=s(function(e){var t=i(e,r);return t.length&&t[0]===e[0]?n(t):[]});e.exports=o},function(t,a,i){var n=i(80),s=i(215),r=i(216),o=i(61),p=i(108),l=i(84);t.exports=function(t,a,i){for(var d=i?r:s,u=t[0].length,c=t.length,f=c,m=Array(c),h=Infinity,y=[];f--;){var g=t[f];f&&a&&(g=o(g,p(a))),h=e(g.length,h),m[f]=!i&&(a||120<=u&&120<=g.length)?new n(f&&g):void 0}g=t[0];var b=-1,x=m[0];outer:for(;++b<u&&y.length<h;){var v=g[b],k=a?a(v):v;if(v=i||0!==v?v:0,x?!l(x,k):!d(y,k,i)){for(f=c;--f;){var M=m[f];if(M?!l(M,k):!d(t[f],k,i))continue outer}x&&x.push(k),y.push(v)}}return y}},function(e,t,a){var i=a(178);e.exports=function(e){return i(e)?e:[]}},function(e,t,a){var i=a(144),n=a(223);e.exports=function(e,t){return n(e||[],t||[],i)}},function(e){e.exports=function(e,t,a){for(var i=-1,n=e.length,s=t.length,r={};++i<n;){var o=i<s?t[i]:void 0;a(r,e[i],o)}return r}},function(e,t,a){var i=a(217),n=a(225),s=a(182),r=a(189),o=s(function(e,t){if(null==e)return[];var a=t.length;return 1<a&&r(e,t[0],t[1])?t=[]:2<a&&r(t[0],t[1],t[2])&&(t=[t[0]]),n(e,i(t,1),[])});e.exports=o},function(e,t,a){var i=a(61),n=a(68),s=a(194),r=a(226),o=a(108),p=a(227),l=a(127);e.exports=function(e,t,a){var d=-1;t=i(t.length?t:[l],o(n));var u=s(e,function(e){var a=i(t,function(t){return t(e)});return{criteria:a,index:++d,value:e}});return r(u,function(e,t){return p(e,t,a)})}},function(e){e.exports=function(e,t){var a=e.length;for(e.sort(t);a--;)e[a]=e[a].value;return e}},function(e,t,a){var i=a(228);e.exports=function(e,t,a){for(var n=-1,s=e.criteria,r=t.criteria,o=s.length,p=a.length;++n<o;){var l=i(s[n],r[n]);if(l){if(n>=p)return l;var d=a[n];return l*('desc'==d?-1:1)}}return e.index-t.index}},function(e,t,a){var i=a(15);e.exports=function(e,t){if(e!==t){var a=e!==void 0,n=null===e,s=e===e,r=i(e),o=t!==void 0,p=null===t,l=t===t,d=i(t);if(!p&&!d&&!r&&e>t||r&&o&&l&&!p&&!d||n&&o&&l||!a&&l||!s)return 1;if(!n&&!r&&!d&&e<t||d&&a&&s&&!n&&!r||p&&a&&s||!o&&s||!l)return-1}return 0}},function(e,t,a){'use strict';a.r(t),a.d(t,'util',function(){return l});var i=a(230),n=a.n(i),s=a(231),r=a.n(s),o=a(232),p=a.n(o),l={sentenceCase:function(e){return n.a.sentence(e)},upperCase:function(e){return r()(e)},clamp:function(e,t,a){return p()(e,t,a)},isNumeric:function(e){return('number'==typeof e||'string'==typeof e)&&!isNaN(parseFloat(e))&&isFinite(e)}};t['default']={util:l}},function(e){(function(){'use strict';var a=String.prototype,i=function(e,t){return t=t||'',e.replace(/(^|-)/g,'$1\\u'+t).replace(/,/g,'\\u'+t)},n=i('20-26,28-2F,3A-40,5B-60,7B-7E,A0-BF,D7,F7','00'),s='a-z'+i('DF-F6,F8-FF','00'),r='A-Z'+i('C0-D6,D8-DE','00'),o=function(e,t,a,i){return e=e||n,t=t||s,a=a||r,i=i||'A|An|And|As|At|But|By|En|For|If|In|Of|On|Or|The|To|Vs?\\.?|Via',{capitalize:new RegExp('(^|['+e+'])(['+t+'])','g'),pascal:new RegExp('(^|['+e+'])+(['+t+a+'])','g'),fill:new RegExp('['+e+']+(.|$)','g'),sentence:new RegExp('(^\\s*|[\\?\\!\\.]+"?\\s+"?|,\\s+")(['+t+'])','g'),improper:new RegExp('\\b('+i+')\\b','g'),relax:new RegExp('([^'+a+'])(['+a+']*)(['+a+'])(?=[^'+a+']|$)','g'),upper:new RegExp('^[^'+t+']+$'),hole:/[^\s]\s[^\s]/,apostrophe:/'/g,room:new RegExp('['+e+']')}},p=o(),d={re:p,unicodes:i,regexps:o,types:[],up:a.toUpperCase,low:a.toLowerCase,cap:function(e){return d.up.call(e.charAt(0))+e.slice(1)},decap:function(e){return d.low.call(e.charAt(0))+e.slice(1)},deapostrophe:function(e){return e.replace(p.apostrophe,'')},fill:function(e,t,a){return null!=t&&(e=e.replace(p.fill,function(e,a){return a?t+a:''})),a&&(e=d.deapostrophe(e)),e},prep:function(e,t,a,i){if(e=null==e?'':e+'',!i&&p.upper.test(e)&&(e=d.low.call(e)),!t&&!p.hole.test(e)){var n=d.fill(e,' ');p.hole.test(n)&&(e=n)}return a||p.room.test(e)||(e=e.replace(p.relax,d.relax)),e},relax:function(e,t,a,i){return t+' '+(a?a+' ':'')+i}},l={_:d,of:function(e){for(var t=0,a=d.types.length;t<a;t++)if(l[d.types[t]].apply(l,arguments)===e)return d.types[t]},flip:function(e){return e.replace(/\w/g,function(e){return(e==d.up.call(e)?d.low:d.up).call(e)})},random:function(e){return e.replace(/\w/g,function(e){return(t(Math.random())?d.up:d.low).call(e)})},type:function(e,t){l[e]=t,d.types.push(e)}},u={lower:function(e,t,a){return d.fill(d.low.call(d.prep(e,t)),t,a)},snake:function(e){return l.lower(e,'_',!0)},constant:function(e){return l.upper(e,'_',!0)},camel:function(e){return d.decap(l.pascal(e))},kebab:function(e){return l.lower(e,'-',!0)},upper:function(e,t,a){return d.fill(d.up.call(d.prep(e,t,!1,!0)),t,a)},capital:function(e,t,a){return d.fill(d.prep(e).replace(p.capitalize,function(e,t,a){return t+d.up.call(a)}),t,a)},header:function(e){return l.capital(e,'-',!0)},pascal:function(e){return d.fill(d.prep(e,!1,!0).replace(p.pascal,function(e,t,a){return d.up.call(a)}),'',!0)},title:function(e){return l.capital(e).replace(p.improper,function(e,t,a,i){return 0<a&&a<i.lastIndexOf(' ')?d.low.call(e):e})},sentence:function(e,t,a){return e=l.lower(e).replace(p.sentence,function(e,t,a){return t+d.up.call(a)}),t&&t.forEach(function(t){e=e.replace(new RegExp('\\b'+l.lower(t)+'\\b','g'),d.cap)}),a&&a.forEach(function(t){e=e.replace(new RegExp('(\\b'+l.lower(t)+'\\. +)(\\w)'),function(e,t,a){return t+d.low.call(a)})}),e}};for(var c in u.squish=u.pascal,u)l.type(c,u[c]);var f='function'==typeof f?f:function(){};f(e.exports?e.exports=l:this.Case=l)}).call(this)},function(e,t,a){var i=a(59);e.exports=function(e){return i(e).toUpperCase()}},function(e,t,a){var i=a(233),n=a(133);e.exports=function(e,t,a){return void 0===a&&(a=t,t=void 0),void 0!==a&&(a=n(a),a=a===a?a:0),void 0!==t&&(t=n(t),t=t===t?t:0),i(n(e),t,a)}},function(e){e.exports=function(e,t,a){return e===e&&(void 0!==a&&(e=e<=a?e:a),void 0!==t&&(e=e>=t?e:t)),e}},function(e,t,a){'use strict';a.r(t);var i=a(235),n=a.n(i);t['default']=function(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return n()(t)}},function(e,t,a){var i=a(236),n=a(127);e.exports=function(e){return e&&e.length?i(e,n):0}},function(e){e.exports=function(e,t){for(var a=-1,i=e.length,n;++a<i;){var s=t(e[a]);s!==void 0&&(n=n===void 0?s:n+s)}return n}},function(e,t,a){var i=a(68),n=a(236);e.exports=function(e,t){return e&&e.length?n(e,i(t,2)):0}},function(e,t,a){'use strict';a.r(t);var i=a(239),n=a.n(i);t['default']=n.a},function(e,t,a){var i=a(240),n=i(function(e,t){return e*t},1);e.exports=n},function(e,t,a){var i=a(241),n=a(60);e.exports=function(e,t){return function(a,s){var r;if(void 0===a&&void 0===s)return t;if(void 0!==a&&(r=a),void 0!==s){if(void 0===r)return s;'string'==typeof a||'string'==typeof s?(a=n(a),s=n(s)):(a=i(a),s=i(s)),r=e(a,s)}return r}}},function(e,t,a){var i=a(15);e.exports=function(e){return'number'==typeof e?e:i(e)?0/0:+e}},function(e,t,a){'use strict';a.r(t),t['default']=function(e){var t=1<arguments.length&&arguments[1]!==void 0?arguments[1]:'path',a={};if(!Array.isArray(e))return a;for(var n=0;n<e.length;n++)e[n]&&e[n][t]&&(a[e[n][t]]=e[n]);return a}},function(e,t,a){'use strict';a.r(t),t['default']=function(e){var t={path:'',children:[]};if(!e)return t;e['']?t=e['']:e['']=t;var a,i,n;for(a in e)if(i=e[a],i!==t){if(!i||null==i.path||a!==i.path){console.warn('Skipped field without path',i);continue}if(null==i.parent){console.warn('Skipped field \''.concat(a,'\'; it has no parent'));continue}if(n=e[i.parent],!n){console.warn('Orphaned field \''.concat(a,'\''));continue}n.children=n.children||[],n.children.includes(i)||n.children.push(i)}return t}},function(e,t,a){'use strict';function n(e){var t=1<arguments.length&&arguments[1]!==void 0?arguments[1]:null,a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(e){var r;if(!(s()(t)&&(r=t(e),!1===r))){for(var o=e.children||[],p=0;p<o.length;p++)n(o[p],t,a);s()(a)&&a(e)}}}a.r(t);var i=a(34),s=a.n(i);t['default']=n},function(e,t,a){'use strict';a.r(t),t['default']=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:'.',a=e.lastIndexOf(t),i,n;return 1>a?(i='',n=e):(i=e.substring(0,a),n=e.substring(a+1)),[i,n]}},function(e,t,a){'use strict';a.r(t);var i=a(247),n=a.n(i);t['default']=function(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return t&&0!==t.length?(t=t.map(function(e){return n()(e,' .')}),t.join('.')):''}},function(e,t,a){var i=a(60),n=a(248),s=a(250),r=a(251),o=a(252),p=a(59),l=/^\s+|\s+$/g;e.exports=function(e,t,a){if(e=p(e),e&&(a||void 0===t))return e.replace(l,'');if(!e||!(t=i(t)))return e;var d=o(e),u=o(t),c=r(d,u),f=s(d,u)+1;return n(d,c,f).join('')}},function(e,t,a){var i=a(249);e.exports=function(e,t,a){var n=e.length;return a=void 0===a?n:a,!t&&a>=n?e:i(e,t,a)}},function(e){e.exports=function(e,t,a){var i=-1,n=e.length;0>t&&(t=-t>n?0:n+t),a=a>n?n:a,0>a&&(a+=n),n=t>a?0:a-t>>>0,t>>>=0;for(var s=Array(n);++i<n;)s[i]=e[i+t];return s}},function(e,t,a){var i=a(208);e.exports=function(e,t){for(var a=e.length;a--&&-1<i(t,e[a],0););return a}},function(e,t,a){var i=a(208);e.exports=function(e,t){for(var a=-1,n=e.length;++a<n&&-1<i(t,e[a],0););return a}},function(e,t,a){var i=a(253),n=a(254),s=a(255);e.exports=function(e){return n(e)?s(e):i(e)}},function(e){e.exports=function(e){return e.split('')}},function(e){var t=/[\u200d\ud800-\udfff\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff\ufe0e\ufe0f]/;e.exports=function(e){return t.test(e)}},function(e){var t='\\ud800-\\udfff',a='(?:'+('['+('\\u0300-\\u036f'+'\\ufe20-\\ufe2f'+'\\u20d0-\\u20ff')+']')+'|'+'\\ud83c[\\udffb-\\udfff]'+')'+'?',i='['+'\\ufe0e\\ufe0f'+']?',n=/\ud83c[\udffb-\udfff](?=\ud83c[\udffb-\udfff])|(?:[^\ud800-\udfff][\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]?|[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?(?:\u200d(?:[^\ud800-\udfff]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?)*/g;e.exports=function(e){return e.match(n)||[]}},function(e,t,a){function i(e,t){function a(e,o,p){p=p||1,Object.keys(e).forEach(function(l){var d=e[l],u=t.safe&&Array.isArray(d),c=Object.prototype.toString.call(d),f=s(d),m=o?o+i+l:l;return!u&&!f&&('[object Object]'===c||'[object Array]'===c)&&Object.keys(d).length&&(!t.maxDepth||p<n)?a(d,m,p+1):void(r[m]=d)})}t=t||{};var i=t.delimiter||'.',n=t.maxDepth,r={};return a(e),r}function n(e,t){function a(e){var a=+e;return isNaN(a)||-1!==e.indexOf('.')||t.object?e:a}t=t||{};var i=t.delimiter||'.',r=t.overwrite||!1,o={},p=s(e);if(p||'[object Object]'!==Object.prototype.toString.call(e))return e;var l=Object.keys(e).sort(function(e,t){return e.length-t.length});return l.forEach(function(s){for(var p=s.split(i),l=a(p.shift()),d=a(p[0]),u=o;void 0!==d;){var c=Object.prototype.toString.call(u[l]),f='[object Object]'===c||'[object Array]'===c;if(!r&&!f&&'undefined'!=typeof u[l])return;(!r||f)&&(r||null!=u[l])||(u[l]='number'!=typeof d||t.object?{}:[]),u=u[l],0<p.length&&(l=a(p.shift()),d=a(p[0]))}u[l]=n(e[s],t)}),o}var s=a(257);e.exports=i,i.flatten=i,i.unflatten=n},function(e){function t(e){return!!e.constructor&&'function'==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}function a(e){return'function'==typeof e.readFloatLE&&'function'==typeof e.slice&&t(e.slice(0,0))}e.exports=function(e){return null!=e&&(t(e)||a(e)||!!e._isBuffer)}},function(e,t,a){var i,n,s;(function(r,o){n=[t,a(259),a(261),a(262),a(263),a(264)],i=o,s='function'==typeof i?i.apply(t,n):i,!(void 0!==s&&(e.exports=s))})(this,function(e,t,a,i,n,s){'use strict';function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(e,'__esModule',{value:!0}),e.detailedDiff=e.updatedDiff=e.deletedDiff=e.diff=e.addedDiff=void 0;var o=r(t),p=r(a),l=r(i),d=r(n),u=r(s);e.addedDiff=p.default,e.diff=o.default,e.deletedDiff=l.default,e.updatedDiff=d.default,e.detailedDiff=u.default})},function(e,t,a){var i,n,s;(function(r,o){n=[e,t,a(260)],i=o,s='function'==typeof i?i.apply(t,n):i,!(void 0!==s&&(e.exports=s))})(this,function(e,t,a){'use strict';function i(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}Object.defineProperty(t,'__esModule',{value:!0});var n=Object.assign||function(e){for(var t=1,a;t<arguments.length;t++)for(var i in a=arguments[t],a)Object.prototype.hasOwnProperty.call(a,i)&&(e[i]=a[i]);return e};t.default=function e(t,s){if(t===s)return{};if(!(0,a.isObject)(t)||!(0,a.isObject)(s))return s;var o=(0,a.properObject)(t),p=(0,a.properObject)(s),r=Object.keys(o).reduce(function(e,t){return p.hasOwnProperty(t)?e:n({},e,i({},t,void 0))},{});return(0,a.isDate)(o)||(0,a.isDate)(p)?o.valueOf()==p.valueOf()?{}:p:Object.keys(p).reduce(function(t,s){if(!o.hasOwnProperty(s))return n({},t,i({},s,p[s]));var r=e(o[s],p[s]);return(0,a.isObject)(r)&&(0,a.isEmpty)(r)&&!(0,a.isDate)(r)?t:n({},t,i({},s,r))},r)},e.exports=t['default']})},function(e,t){var a,i,n;(function(s,r){i=[t],a=r,n='function'==typeof a?a.apply(t,i):a,!(void 0!==n&&(e.exports=n))})(this,function(e){'use strict';Object.defineProperty(e,'__esModule',{value:!0});var t=Object.assign||function(e){for(var t=1,a;t<arguments.length;t++)for(var i in a=arguments[t],a)Object.prototype.hasOwnProperty.call(a,i)&&(e[i]=a[i]);return e},a='function'==typeof Symbol&&'symbol'==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&'function'==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?'symbol':typeof e},i=e.isDate=function(e){return e instanceof Date},n=e.isEmpty=function(e){return 0===Object.keys(e).length},s=e.isObject=function(e){return null!=e&&'object'===('undefined'==typeof e?'undefined':a(e))},r=e.properObject=function(e){return s(e)&&!e.hasOwnProperty?t({},e):e}})},function(e,t,a){var i,n,s;(function(r,o){n=[e,t,a(260)],i=o,s='function'==typeof i?i.apply(t,n):i,!(void 0!==s&&(e.exports=s))})(this,function(e,t,a){'use strict';function i(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}Object.defineProperty(t,'__esModule',{value:!0});var n=Object.assign||function(e){for(var t=1,a;t<arguments.length;t++)for(var i in a=arguments[t],a)Object.prototype.hasOwnProperty.call(a,i)&&(e[i]=a[i]);return e};t.default=function e(t,s){if(t===s||!(0,a.isObject)(t)||!(0,a.isObject)(s))return{};var o=(0,a.properObject)(t),p=(0,a.properObject)(s);return Object.keys(p).reduce(function(t,s){if(o.hasOwnProperty(s)){var r=e(o[s],p[s]);return(0,a.isObject)(r)&&(0,a.isEmpty)(r)?t:n({},t,i({},s,r))}return n({},t,i({},s,p[s]))},{})},e.exports=t['default']})},function(e,t,a){var i,n,s;(function(r,o){n=[e,t,a(260)],i=o,s='function'==typeof i?i.apply(t,n):i,!(void 0!==s&&(e.exports=s))})(this,function(e,t,a){'use strict';function i(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}Object.defineProperty(t,'__esModule',{value:!0});var n=Object.assign||function(e){for(var t=1,a;t<arguments.length;t++)for(var i in a=arguments[t],a)Object.prototype.hasOwnProperty.call(a,i)&&(e[i]=a[i]);return e};t.default=function e(t,s){if(t===s||!(0,a.isObject)(t)||!(0,a.isObject)(s))return{};var o=(0,a.properObject)(t),p=(0,a.properObject)(s);return Object.keys(o).reduce(function(t,s){if(p.hasOwnProperty(s)){var r=e(o[s],p[s]);return(0,a.isObject)(r)&&(0,a.isEmpty)(r)?t:n({},t,i({},s,r))}return n({},t,i({},s,void 0))},{})},e.exports=t['default']})},function(e,t,a){var i,n,s;(function(r,o){n=[e,t,a(260)],i=o,s='function'==typeof i?i.apply(t,n):i,!(void 0!==s&&(e.exports=s))})(this,function(e,t,a){'use strict';function i(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}Object.defineProperty(t,'__esModule',{value:!0});var n=Object.assign||function(e){for(var t=1,a;t<arguments.length;t++)for(var i in a=arguments[t],a)Object.prototype.hasOwnProperty.call(a,i)&&(e[i]=a[i]);return e};t.default=function e(t,s){if(t===s)return{};if(!(0,a.isObject)(t)||!(0,a.isObject)(s))return s;var o=(0,a.properObject)(t),p=(0,a.properObject)(s);return(0,a.isDate)(o)||(0,a.isDate)(p)?o.valueOf()==p.valueOf()?{}:p:Object.keys(p).reduce(function(t,s){if(o.hasOwnProperty(s)){var r=e(o[s],p[s]);return(0,a.isObject)(r)&&(0,a.isEmpty)(r)&&!(0,a.isDate)(r)?t:n({},t,i({},s,r))}return t},{})},e.exports=t['default']})},function(e,t,a){var i,n,s;(function(r,o){n=[e,t,a(261),a(262),a(263)],i=o,s='function'==typeof i?i.apply(t,n):i,!(void 0!==s&&(e.exports=s))})(this,function(e,t,a,i,n){'use strict';function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,'__esModule',{value:!0});var r=s(a),o=s(i),p=s(n);t.default=function(e,t){return{added:(0,r.default)(e,t),deleted:(0,o.default)(e,t),updated:(0,p.default)(e,t)}},e.exports=t['default']})},,,,function(e,t,a){'use strict';a.r(t);t['default']=[{path:'sections',type:'virtual',omit:!0},{path:'templates',type:'virtual',omit:!0},{path:'profile',type:'section',name:'Profile',description:'Character profile'},{path:'profile.name',type:'string',name:'Name',description:'The character\'s given or chosen name'},{path:'profile.alignment',type:'selection',name:'Alignment',description:'The character\'s general and moral attitude',options:{options:{lawfulGood:'Lawful Good',neutralGood:'Neutral Good',chaoticGood:'Chaotic Good',lawfulNeutral:'Lawful Neutral',trueNeutral:'True Neutral',chaoticNeutral:'Chaotic Neutral',lawfulEvil:'Lawful Evil',neutralEvil:'Neutral Evil',chaoticEvil:'Chaotic Evil'}}},{path:'profile.age',type:'string',name:'Age',description:'The character\'s age'},{path:'profile.gender',type:'string',name:'Gender',description:'The character\'s gender'},{path:'profile.height',type:'string',name:'Height',description:'The character\'s height'},{path:'profile.weight',type:'string',name:'Weight',description:'The character\'s weight'},{path:'profile.hair',type:'string',name:'Hair',description:'The character\'s eye color'},{path:'profile.eyes',type:'string',name:'Eyes',description:'The character\'s eye color'},{path:'race',type:'section',name:'Race',description:'The character\'s race'},{path:'race.name',type:'string',description:'The name of the race'},{path:'templates.class.name',type:'string',name:'Class name'},{path:'templates.class',name:'Class',type:'group',options:{hideLabel:!0}},{path:'templates.class.levels',type:'number',name:'Levels',options:{min:1},default:1},{path:'classes',type:'section',name:'Classes',description:'The character\'s classes'},{path:'classes.level',expression:'sumBy($parent.list, "levels")'},{path:'classes.list',type:'list',options:{editable:!0},template:'templates.class',fixed:{0:!0}},{path:'templates.ability',type:'group',name:'Ability'},{path:'templates.ability.score',expression:'$parent.base +$parent.racialBonus +$parent.miscBonus +$parent.tempBonus'},{path:'templates.ability.modifier',expression:'abilityModifier($parent.score)'},{path:'templates.ability.base',default:10},{path:'templates.ability.racialBonus'},{path:'templates.ability.miscBonus'},{path:'templates.ability.tempBonus'},{path:'sections.abilities',parent:'',type:'section',name:'Abilities',virtual:!0},{path:'abilities',parent:'sections.abilities',type:'table',template:'templates.ability',fixed:['str','dex','con','int','wis','cha'],options:{showLabel:!0,headings:['Ability','Score','Modifier','Base','Racial','Misc','Temp']}},{path:'abilities.str',type:'group',name:'Strength'},{path:'abilities.dex',type:'group',name:'Dexterity'},{path:'abilities.con',type:'group',name:'Constitution'},{path:'abilities.int',type:'group',name:'Intelligence'},{path:'abilities.wis',type:'group',name:'Wisdom'},{path:'abilities.cha',type:'group',name:'Charisma'},{path:'defense',type:'section',name:'Defense',description:'Defense statistics'},{path:'defense.hitPoints',type:'group',name:'Hit points'},{path:'defense.hitPoints.current',expression:'min($value, $parent.total)',disabled:!1},{path:'defense.hitPoints.total',expression:'$parent.base + $parent.tempModifier'},{path:'defense.hitPoints.base'},{path:'defense.hitPoints.tempModifier'},{path:'defense.hitPoints.nonLethalDamage'},{path:'defense.armorClass',type:'group',name:'AC'},{path:'defense.armorClass.total',name:'Armor Class',expression:'10 + $parent.armorBonus + $parent.shieldBonus + $parent.abilityModifier + $parent.sizeModifier + $parent.naturalArmor + $parent.deflectionModifier + $parent.miscModifier + $parent.tempModifier'},{path:'defense.armorClass.touch',expression:'$parent.total - $parent.armorBonus - $parent.shieldBonus - $parent.naturalArmor'},{path:'defense.armorClass.flatFooted',name:'Flat-footed Armor Class',expression:'$parent.total - $parent.abilityModifier'},{path:'defense.armorClass.armorBonus'},{path:'defense.armorClass.shieldBonus'},{path:'defense.armorClass.abilityModifier',expression:'abilities.dex.modifier'},{path:'defense.armorClass.sizeModifier',expression:'size.modifier'},{path:'defense.armorClass.naturalArmor'},{path:'defense.armorClass.deflectionModifier'},{path:'defense.armorClass.miscModifier'},{path:'defense.armorClass.tempModifier'},{path:'defense.damageReduction'},{path:'defense.spellResistance'},{path:'sections.saves',parent:'defense',name:'Saving throws',type:'section',virtual:!0},{path:'defense.saves',parent:'sections.saves',type:'table',options:{showLabel:!0,headings:['Save','Total','Base','Ability','Magic','Misc','Temp']}},{path:'defense.saves.fortitude',type:'group'},{path:'defense.saves.fortitude.total',expression:'$parent.base + $parent.abilityModifier + $parent.magicModifier + $parent.miscModifier + $parent.tempModifier'},{path:'defense.saves.fortitude.base'},{path:'defense.saves.fortitude.abilityModifier',expression:'abilities.con.modifier'},{path:'defense.saves.fortitude.magicModifier'},{path:'defense.saves.fortitude.miscModifier'},{path:'defense.saves.fortitude.tempModifier'},{path:'defense.saves.reflex',type:'group'},{path:'defense.saves.reflex.total',expression:'$parent.base + $parent.abilityModifier + $parent.magicModifier + $parent.miscModifier + $parent.tempModifier'},{path:'defense.saves.reflex.base'},{path:'defense.saves.reflex.abilityModifier',expression:'abilities.dex.modifier'},{path:'defense.saves.reflex.magicModifier'},{path:'defense.saves.reflex.miscModifier'},{path:'defense.saves.reflex.tempModifier'},{path:'defense.saves.will',type:'group'},{path:'defense.saves.will.total',expression:'$parent.base + $parent.abilityModifier + $parent.magicModifier + $parent.miscModifier + $parent.tempModifier'},{path:'defense.saves.will.base'},{path:'defense.saves.will.abilityModifier',expression:'abilities.wis.modifier'},{path:'defense.saves.will.magicModifier'},{path:'defense.saves.will.miscModifier'},{path:'defense.saves.will.tempModifier'},{path:'defense.combatManeuverDefense',type:'group'},{path:'defense.combatManeuverDefense.total',expression:'10 + $parent.baseAttackBonus + $parent.strModifier + $parent.dexModifier + $parent.sizeModifier + $parent.miscModifier + $parent.tempModifier'},{path:'defense.combatManeuverDefense.baseAttackBonus',expression:'offense.baseAttackBonus'},{path:'defense.combatManeuverDefense.strModifier',expression:'abilities.str.modifier'},{path:'defense.combatManeuverDefense.dexModifier',expression:'abilities.dex.modifier'},{path:'defense.combatManeuverDefense.sizeModifier',expression:'size.modifier'},{path:'defense.combatManeuverDefense.miscModifier'},{path:'defense.combatManeuverDefense.tempModifier'},{path:'offense',type:'section',description:'Offense statistics'},{path:'offense.initiative',type:'group'},{path:'offense.initiative.total',expression:'$parent.abilityModifier + $parent.miscModifier + $parent.tempModifier'},{path:'offense.initiative.abilityModifier',expression:'abilities.dex.modifier'},{path:'offense.initiative.miscModifier'},{path:'offense.initiative.tempModifier'},{path:'offense.baseAttackBonus'},{path:'offense.speed',type:'group'},{path:'offense.speed.land',type:'string'},{path:'offense.speed.withArmor',type:'string'},{path:'offense.speed.fly',type:'string'},{path:'offense.speed.swim',type:'string'},{path:'offense.speed.climb',type:'string'},{path:'offense.speed.burrow',type:'string'},{path:'offense.combatManeuverBonus',type:'group'},{path:'offense.combatManeuverBonus.total',expression:'10 + $parent.baseAttackBonus + $parent.abilityModifier + $parent.sizeModifier + $parent.miscModifier + $parent.tempModifier'},{path:'offense.combatManeuverBonus.baseAttackBonus',expression:'offense.baseAttackBonus'},{path:'offense.combatManeuverBonus.abilityModifier',expression:'abilities.str.modifier'},{path:'offense.combatManeuverBonus.sizeModifier',expression:'size.modifier'},{path:'offense.combatManeuverBonus.miscModifier'},{path:'offense.combatManeuverBonus.tempModifier'},{path:'templates.skill',name:null,type:'group'},{path:'templates.skill.trained',disabled:!0},{path:'templates.skill.total',expression:'$parent.abilityModifier + $parent.classBonus + $parent.ranks + $parent.racialBonus + $parent.traitBonus + $parent.miscModifier + $parent.tempModifier'},{path:'templates.skill.ability',type:'selection',options:{options:{str:'Strength',dex:'Dexterity',con:'Constitution',int:'Intelligence',wis:'Wisdom',cha:'Charisma'}},default:'str',disabled:!0},{path:'templates.skill.abilityModifier',expression:'value(concat("abilities.", $parent.ability, ".modifier"))'},{path:'templates.skill.trained',type:'boolean',disabled:!0},{path:'templates.skill.classSkill',type:'boolean'},{path:'templates.skill.classBonus',expression:'$parent.classSkill and (not $parent.trained or $parent.ranks > 0) ? 3 : 0'},{path:'templates.skill.ranks',options:{min:0}},{path:'templates.skill.racialBonus'},{path:'templates.skill.miscModifier'},{path:'templates.skill.tempModifier'},{path:'skills',type:'section'},{path:'skills.list',type:'list',input:'pragma-table',options:{showLabel:!0,headings:['Skill','Trained','Total','Ability','Modifier','Class','','Ranks','Racial','Misc','Temp']},template:'templates.skill',merge:!0,fixed:['acrobatics','appraise','bluff','climb','craft','diplomacy','disableDevice','disguise','escapeArtist','fly','handleAnimal','heal','intimidate','knowledgeArcana','knowledgeDungeoneering','knowledgeEngineering','knowledgeGeography','knowledgeHistory','knowledgeLocal','knowledgeNature','knowledgeNobility','knowledgePlanes','knowledgeReligion','linguistics','perception','perform','profession','ride','senseMotive','sleightOfHand','spellcraft','stealth','survival','swim','useMagicDevice','test','test2'],default:{acrobatics:{ability:'dex'},appraise:{ability:'int'},bluff:{ability:'cha'},climb:{ability:'str'},craft:{ability:'int',variant:!0},diplomacy:{ability:'cha'},disableDevice:{ability:'dex',trained:!0},disguise:{ability:'cha'},escapeArtist:{ability:'dex'},fly:{ability:'dex'},handleAnimal:{ability:'cha',trained:!0},heal:{ability:'wis'},intimidate:{ability:'cha'},knowledgeArcana:{ability:'int',trained:!0},knowledgeDungeoneering:{ability:'int',trained:!0},knowledgeEngineering:{ability:'int',trained:!0},knowledgeGeography:{ability:'int',trained:!0},knowledgeHistory:{ability:'int',trained:!0},knowledgeLocal:{ability:'int',trained:!0},knowledgeNature:{ability:'int',trained:!0},knowledgeNobility:{ability:'int',trained:!0},knowledgePlanes:{ability:'int',trained:!0},knowledgeReligion:{ability:'int',trained:!0},linguistics:{ability:'int',trained:!0},perception:{ability:'wis'},perform:{ability:'cha',variant:!0},profession:{ability:'wis',trained:!0,variant:!0},ride:{ability:'dex'},senseMotive:{ability:'wis'},sleightOfHand:{ability:'dex'},spellcraft:{ability:'int',trained:!0},stealth:{ability:'dex'},survival:{ability:'wis'},swim:{ability:'str'},useMagicDevice:{ability:'cha',trained:!0}}},{path:'skills.list.test',name:'Test skill',default:{ability:'dex'}},{path:'skills.list.test2',name:'Test skill 2',default:{ability:'cha'}}]},function(e,t,a){'use strict';a.r(t);var n=a(229);t['default']=function(e){if(!n.util.isNumeric(e))return null;var t=i(e/2-5);return n.util.isNumeric(t)?t:null}},function(e,t,a){'use strict';a.r(t),t['default']={characters:{1:{profile:{name:'Shade',alignment:'chaoticNeutral',age:27,gender:'Male',height:'5\'9"',weight:'10st',hair:'Black',eyes:'Black',home:'Enaevia'},race:{name:'Tiefling'},buffs:[],classes:{list:[{name:'Sorcerer',levels:11},{name:'Test second class',levels:1},{name:'Two',levels:2},{name:'Three',levels:3},{name:'Four',levels:4},{name:'Five',levels:5}],level:11},abilities:{str:{base:8,miscBonus:0,tempBonus:0},dex:{base:12,miscBonus:0,tempBonus:0},con:{base:12},int:{base:12},wis:{base:14},cha:{base:17,miscBonus:4,tempBonus:0}},defense:{hitPoints:{total:52,base:52,tempModifier:0,current:52,nonLethalDamage:0},armorClass:{total:20,touch:11,flatFooted:15,armorBonus:3,shieldBonus:2,abilityModifier:1,sizeModifier:0,naturalArmor:0,deflectionModifier:0,miscModifier:0,tempModifier:4},damageReduction:0,spellResistance:0,saves:{fortitude:{total:4,base:3,abilityModifier:1,magicModifier:0,miscModifier:0,tempModifier:0},reflex:{total:6,base:3,abilityModifier:1,magicModifier:0,miscModifier:2,tempModifier:0},will:{total:7,base:5,abilityModifier:2,magicModifier:0,miscModifier:0,tempModifier:0}},resistances:{cold:{total:5,base:5,miscModifier:0,tempModifier:0},fire:{total:5,base:5,miscModifier:5,tempModifier:5},electricity:{total:25,base:5,miscModifier:20,tempModifier:0},acid:{total:0,base:0,miscModifier:0,tempModifier:0}},combatManeuverDefense:{total:14,baseAttackBonus:4,strModifier:-1,dexModifier:1,sizeModifier:0,miscModifier:0,tempModifier:0}},offense:{initiative:{total:5,abilityModifier:1,miscModifier:4},baseAttackBonus:4,speed:{land:'5ft',withArmor:'N/A',fly:'',swim:'',climb:'',burrow:''},combatManeuverBonus:{total:3,baseAttackBonus:4,abilityModifier:-1,sizeModifier:0,miscModifier:0,tempModifier:0}},skills:{list:{bluff:{classSkill:!0,ranks:3,racialBonus:2}}}},2:{profile:{name:'Zyra',alignment:'neutralGood',age:22,gender:'Female',height:'5\'6"',weight:'9st7lb',hair:'Black',eyes:'Black',home:'Ilun'},race:'Catfolk',class:'Mindblade',abilities:{str:{base:14},dex:{base:12},con:{base:13},int:{base:16},wis:{base:10},cha:{base:10}}}}}},,function(e,t,a){'use strict';a.r(t);var i=a(1),n=a.n(i),s=a(138),r=a(273),o=a(3),p=a(282),l=a(297),d=a(139),u=a(269),c=a(277),f=a(270),m={events:n.a.observable(),data:c['default'],state:{character:null,sheet:null},store:f['default'],services:{factory:new p['default'],processor:new l['default'],formProcessor:new d['default'](c['default'].fields,{abilityModifier:u['default']},{})}};m.state.sheet=m.store.characters[1],n.a.mixin(s['default']),m.tags=n.a.mount('*',{app:m}),t['default']=m},function(e,t,a){'use strict';a.r(t);var i=a(274),n=a(281),s=a.n(n),r=a(203),o=a.n(r),p=a(1);p.tag2('old','<h1>Pragma</h1> <input type="button" value="Force Update" onmouseup="{() => {}}"> <virtual if="{!sheet}"> </virtual> <virtual if="{sheet}"> <h2>Character Sheet</h2> <fieldset> <legend>Processing</legend> <label> <input type="radio" name="processing" checked="{!sheet.processing}" value="" onchange="{onProcessingChange}"> Permissive </label> <label> <input type="radio" name="processing" checked="{sheet.processing === \'processed\'}" value="processed" onchange="{onProcessingChange}"> Processed </label> </fieldset> <character character="{sheet}" strict="{sheet.processing}" onedit="{onCharacterEdit}"></character> </virtual>','','',function(){let e=this.opts.app,t=e.state,a=e.store,i=e.services.factory,n=e.services.processor,r=t.character||i.create();this.process=function(){this.sheet=s()(t.sheet),'processed'===this.sheet.processing?n.process(r,this.sheet):'propagated'===this.sheet.processing&&n.propagate(this.sheet)},this.onProcessingChange=function(e){t.sheet.processing=e.currentTarget.value,this.sheet.processing=e.currentTarget.value},this.onCharacterEdit=function(e){console.log(e);let{name:a,value:i,input:n}=e.detail;'number'===n.type&&(i=isNaN(parseFloat(i))?i:parseFloat(i)),o()(t.sheet,a,i),o()(this.sheet,a,i)},this.on('mount',function(){this.update()}),this.on('update',function(){this.process()}),this.on('unmount',function(){this.state=null,this.store=null,this.character=null,this.sheet=null})})},function(e,t,a){'use strict';a.r(t);var i=a(275),n=a(276),s=a(278),r=a(279),o=a(280),p=a(1);p.tag2('character','<general general="{character.general}"></general> <size type="{character.size.type}"></size> <abilities abilities="{character.abilities}" strict="{opts.strict}"></abilities> <defense defense="{character.defense}" strict="{opts.strict}"></defense> <offense offense="{character.offense}" strict="{opts.strict}"></offense>','','',function(){this.character=this.opts.character,this.on('update',function(){this.character=this.opts.character})})},function(e,t,a){'use strict';a.r(t);var i=a(10),n=a.n(i),s=a(203),r=a.n(s),o=a(229),p=a(1);p.tag2('general','<fieldset> <legend>General</legend> <p each="{value, name in general}"> <label> {util.sentenceCase(name)} <input type="text" name="{name}" riot-value="{value}" onkeyup="{edit}"> </label> </p> </fieldset>','','',function(){this.mixin(o['default']),this.prefix=this.opts.prefix||'general.',this.general=this.opts.general,this.edit=function(e){let t=e.target;n()(this.abilities,t.name)===t.value||(r()(this.general,t.name,t.value),this.triggerDom('edit',{input:t,name:this.prefix+t.name,value:t.value}))}})},function(e,t,a){'use strict';a.r(t);var i=a(277),n=a(229),s=a(10),r=a.n(s),o=a(203),p=a.n(o),l=a(1);l.tag2('size','<fieldset> <legend>Size</legend> <p> <label> <span>Type</span> <select name="type" onchange="{edit}"> <option each="{size, type in sizes}" riot-value="{type}" selected="{type === state.type}"> {size.name} </option> </select> </label> </p> <p> <label> <span>Modifier</span> <input name="modifier" min="-100" max="100" step="1" riot-value="{sizes[state.type].modifier}" disabled type="{\'number\'}"> </label> </p> <p> <label> <span>Special Modifier</span> <input name="specialModifier" min="-100" max="100" step="1" riot-value="{sizes[state.type].specialModifier}" disabled type="{\'number\'}"> </label> </p> <p> <label> <span>Fly Modifier</span> <input name="flyModifier" min="-100" max="100" step="1" riot-value="{sizes[state.type].flyModifier}" disabled type="{\'number\'}"> </label> </p> <p> <label> <span>Stealth Modifier</span> <input name="stealthModifier" min="-100" max="100" step="1" riot-value="{sizes[state.type].stealthModifier}" disabled type="{\'number\'}"> </label> </p> <p> <label> <span>Space occupied (ft.)</span> <input name="space" min="-100" max="100" step="0.5" riot-value="{sizes[state.type].space}" disabled type="{\'number\'}"> </label> </p> <p> <label> <span>Natural reach (ft.)</span> <input name="reach" min="-100" max="100" step="0.5" riot-value="{sizes[state.type].reach}" disabled type="{\'number\'}"> </label> </p> </fieldset>','','',function(){this.sizes=i.sizes,this.mixin(n['default']),this.prefix=this.opts.prefix||'size.',this.state={type:this.opts.type},this.edit=function(){let e=event.target;e.value=e.options[e.selectedIndex].value;r()(this.state,e.name)===e.value||(p()(this.state,e.name,e.value),this.triggerDom('edit',{input:e,name:this.prefix+e.name,value:e.value}))},this.on('mount',function(){}),this.on('update',function(){this.prefix=this.opts.prefix||'size.',this.state.type=this.opts.type})})},function(e,t,a){'use strict';a.r(t),a.d(t,'classes',function(){return s}),a.d(t,'sizes',function(){return r}),a.d(t,'skills',function(){return o}),a.d(t,'spells',function(){return p});var i=a(268),n={fields:i['default'],classes:{},sizes:{fine:{name:'Fine',modifier:8,specialModifier:-8,flyModifier:8,stealthModifier:16,space:.5,reach:0},diminutive:{name:'Diminutive',modifier:4,specialModifier:-4,flyModifier:6,stealthModifier:12,space:1,reach:0},tiny:{name:'Tiny',modifier:2,specialModifier:-2,flyModifier:4,stealthModifier:8,space:2.5,reach:0},small:{name:'Small',modifier:1,specialModifier:-1,flyModifier:2,stealthModifier:4,space:5,reach:5},medium:{name:'Medium',modifier:0,specialModifier:0,flyModifier:0,stealthModifier:0,space:5,reach:5},large:{name:'Large',modifier:-1,specialModifier:1,flyModifier:-2,stealthModifier:-4,space:10,reach:10},huge:{name:'Huge',modifier:-2,specialModifier:2,flyModifier:-4,stealthModifier:-8,space:15,reach:15},gargantuan:{name:'Gargantuan',modifier:-4,specialModifier:4,flyModifier:-6,stealthModifier:-12,space:20,reach:20},colossal:{name:'Colossal',modifier:-8,specialModifier:8,flyModifier:-8,stealthModifier:-16,space:30,reach:30}},skills:{},spells:{}};t['default']=n;var s=n.classes,r=n.sizes,o=n.skills,p=n.spells},function(e,t,a){'use strict';a.r(t);var i=a(229),n=a(10),s=a.n(n),r=a(203),o=a.n(r),p=a(1);p.tag2('abilities','<fieldset> <legend>Abilities</legend> <table> <tr each="{ability, name in abilities}"> <th> <span>{util.upperCase(name)}</span> </th> <td> <input name="{name + \'.score\'}" min="0" max="60" step="1" riot-value="{ability.score}" onkeyup="{edit}" onchange="{edit}" type="{\'number\'}"> </td> <td> <input name="{name + \'.modifier\'}" min="-5" max="25" step="1" riot-value="{ability.modifier}" onkeyup="{edit}" onchange="{edit}" disabled="{opts.strict}" type="{\'number\'}"> </td> <td> <input name="{name + \'.temp\'}" min="0" max="60" step="1" riot-value="{ability.temp}" onkeyup="{edit}" onchange="{edit}" type="{\'number\'}"> </td> <td> <input name="{name + \'.tempModifier\'}" min="-5" max="25" step="1" riot-value="{ability.tempModifier}" onkeyup="{edit}" onchange="{edit}" disabled="{opts.strict}" type="{\'number\'}"> </td> </tr> </table> </fieldset>','','',function(){this.mixin(i['default']),this.prefix=this.opts.prefix||'abilities.',this.abilities=this.opts.abilities,this.edit=function(e){let t=e.target;s()(this.abilities,t.name)===t.value||(t.value=this.util.clamp(t.value,t.min,t.max),o()(this.abilities,t.name,t.value),this.triggerDom('edit',{input:t,name:this.prefix+t.name,value:t.value}))},this.on('update',function(){this.opts.prefix||'abilities.',this.abilities=this.opts.abilities})})},function(t,a,i){'use strict';i.r(a);var n=i(10),s=i.n(n),r=i(203),o=i.n(r),p=i(229),l=i(1);l.tag2('defense','<fieldset> <legend>Defense</legend> <p> <label> <span>HP</span> <input name="hitPoints.current" min="-15" max="{defense.hitPoints.total}" step="1" riot-value="{defense.hitPoints.current}" onkeyup="{edit}" onchange="{edit}" type="{\'number\'}"> </label> / <input name="hitPoints.total" min="1" max="1000" step="1" riot-value="{defense.hitPoints.total}" onkeyup="{edit}" onchange="{edit}" disabled="{opts.strict}" type="{\'number\'}"> = <input name="hitPoints.base" min="1" max="1000" step="1" riot-value="{defense.hitPoints.base}" onkeyup="{edit}" onchange="{edit}" type="{\'number\'}"> + <input name="hitPoints.tempModifier" min="-100" max="100" step="1" riot-value="{defense.hitPoints.tempModifier}" onkeyup="{edit}" onchange="{edit}" type="{\'number\'}"> <input name="hitPoints.nonLethalDamage" min="0" max="100" riot-value="{defense.hitPoints.nonLethalDamage}" onkeyup="{edit}" onchange="{edit}" type="{\'number\'}"> </p> <p> <label> <span>Damage reduction</span> <input name="damageReduction" min="-100" max="100" step="1" riot-value="{defense.damageReduction}" onkeyup="{edit}" onchange="{edit}" type="{\'number\'}"> </label> <label> <span>Spell resistance</span> <input name="spellResistance" min="-100" max="100" step="1" riot-value="{defense.spellResistance}" onkeyup="{edit}" onchange="{edit}" type="{\'number\'}"> </label> </p> <p> <label> <span>AC</span> <input name="armorClass.total" min="-100" max="100" step="1" riot-value="{defense.armorClass.total}" onkeyup="{edit}" onchange="{edit}" type="{\'number\'}"> </label> = 10 + <input name="armorClass.armorBonus" min="-100" max="100" step="1" riot-value="{defense.armorClass.armorBonus}" onkeyup="{edit}" onchange="{edit}" type="{\'number\'}"> + <input name="armorClass.shieldBonus" min="-100" max="100" step="1" riot-value="{defense.armorClass.shieldBonus}" onkeyup="{edit}" onchange="{edit}" type="{\'number\'}"> + <input name="armorClass.abilityModifier" min="-60" max="60" step="1" riot-value="{defense.armorClass.abilityModifier}" onkeyup="{edit}" onchange="{edit}" disabled="{opts.strict}" type="{\'number\'}"> + <input name="armorClass.sizeModifier" min="-100" max="100" step="1" riot-value="{defense.armorClass.sizeModifier}" onkeyup="{edit}" onchange="{edit}" disabled="{opts.strict}" type="{\'number\'}"> + <input name="armorClass.naturalArmor" min="-100" max="100" step="1" riot-value="{defense.armorClass.naturalArmor}" onkeyup="{edit}" onchange="{edit}" type="{\'number\'}"> + <input name="armorClass.deflectionModifier" min="-100" max="100" step="1" riot-value="{defense.armorClass.deflectionModifier}" onkeyup="{edit}" onchange="{edit}" type="{\'number\'}"> + <input name="armorClass.miscModifier" min="-100" max="100" step="1" riot-value="{defense.armorClass.miscModifier}" onkeyup="{edit}" onchange="{edit}" type="{\'number\'}"> + <input name="armorClass.tempModifier" min="-100" max="100" step="1" riot-value="{defense.armorClass.tempModifier}" onkeyup="{edit}" onchange="{edit}" type="{\'number\'}"> </p> <p> <label> <span>Touch</span> <input name="armorClass.touch" min="-100" max="100" step="1" riot-value="{defense.armorClass.touch}" onkeyup="{edit}" onchange="{edit}" type="{\'number\'}"> </label> <label> <span>Flat-footed</span> <input name="armorClass.flatFooted" min="-100" max="100" step="1" riot-value="{defense.armorClass.flatFooted}" onkeyup="{edit}" onchange="{edit}" type="{\'number\'}"> </label> </p> <fieldset> <legend>Saving throws</legend> <table> <tr each="{save, name in defense.saves}"> <th> <span>{util.sentenceCase(name)}</span> </th> <td> <input name="{\'saves.\' + name + \'.total\'}" min="0" max="100" riot-value="{save.total}" onkeyup="{edit}" onchange="{edit}" type="{\'number\'}"> </td> <td> = <input name="{\'saves.\' + name + \'.base\'}" min="-100" max="100" step="1" riot-value="{save.base}" onkeyup="{edit}" onchange="{edit}" type="{\'number\'}"> </td> <td> + <input name="{\'saves.\' + name + \'.abilityModifier\'}" min="-60" max="60" step="1" riot-value="{save.abilityModifier}" onkeyup="{edit}" onchange="{edit}" disabled="{opts.strict}" type="{\'number\'}"> </td> <td> + <input name="{\'saves.\' + name + \'.magicModifier\'}" min="-100" max="100" step="1" riot-value="{save.magicModifier}" onkeyup="{edit}" onchange="{edit}" type="{\'number\'}"> </td> <td> + <input name="{\'saves.\' + name + \'.miscModifier\'}" min="-100" max="100" step="1" riot-value="{save.miscModifier}" onkeyup="{edit}" onchange="{edit}" type="{\'number\'}"> </td> <td> + <input name="{\'saves.\' + name + \'.tempModifier\'}" min="-100" max="100" step="1" riot-value="{save.tempModifier}" onkeyup="{edit}" onchange="{edit}" type="{\'number\'}"> </td> </tr> </table> </fieldset> <fieldset> <legend>Resistances</legend> <table if="{defense.resistances}"> <tr each="{resistance, name in defense.resistances}"> <th> <span>{util.sentenceCase(name)}</span> </th> <td> <input name="{\'resistances.\' + name + \'.total\'}" min="0" max="100" step="1" riot-value="{resistance.total}" onkeyup="{edit}" onchange="{edit}" type="{\'number\'}"> </td> <td> = <input name="{\'resistances.\' + name + \'.base\'}" min="-100" max="100" step="1" riot-value="{resistance.base}" onkeyup="{edit}" onchange="{edit}" type="{\'number\'}"> </td> <td> + <input name="{\'resistances.\' + name + \'.miscModifier\'}" min="-100" max="100" step="1" riot-value="{resistance.miscModifier}" onkeyup="{edit}" onchange="{edit}" type="{\'number\'}"> </td> <td> + <input name="{\'resistances.\' + name + \'.tempModifier\'}" min="-100" max="100" step="1" riot-value="{resistance.tempModifier}" onkeyup="{edit}" onchange="{edit}" type="{\'number\'}"> </td> </tr> </table> </fieldset> <p> <label> CMD <input name="combatManeuverDefense.total" min="-100" max="100" step="1" riot-value="{defense.combatManeuverDefense.total}" onkeyup="{edit}" onchange="{edit}" type="{\'number\'}"> </label> = 10 + <input name="combatManeuverDefense.baseAttackBonus" min="-100" max="100" step="1" riot-value="{defense.combatManeuverDefense.baseAttackBonus}" onkeyup="{edit}" onchange="{edit}" disabled="{opts.strict}" type="{\'number\'}"> + <input name="combatManeuverDefense.strModifier" min="-60" max="60" step="1" riot-value="{defense.combatManeuverDefense.strModifier}" onkeyup="{edit}" onchange="{edit}" disabled="{opts.strict}" type="{\'number\'}"> + <input name="combatManeuverDefense.dexModifier" min="-60" max="60" step="1" riot-value="{defense.combatManeuverDefense.dexModifier}" onkeyup="{edit}" onchange="{edit}" disabled="{opts.strict}" type="{\'number\'}"> + <input name="combatManeuverDefense.sizeModifier" min="-100" max="100" step="1" riot-value="{defense.combatManeuverDefense.sizeModifier}" onkeyup="{edit}" onchange="{edit}" disabled="{opts.strict}" type="{\'number\'}"> + <input name="combatManeuverDefense.miscModifier" min="-100" max="100" step="1" riot-value="{defense.combatManeuverDefense.miscModifier}" onkeyup="{edit}" onchange="{edit}" type="{\'number\'}"> + <input name="combatManeuverDefense.tempModifier" min="-100" max="100" step="1" riot-value="{defense.combatManeuverDefense.tempModifier}" onkeyup="{edit}" onchange="{edit}" type="{\'number\'}"> </p> </fieldset>','','',function(){this.mixin(p['default']),this.min=e,this.prefix=this.opts.prefix||'defense.',this.defense=this.opts.defense,this.edit=function(e){let t=e.target;s()(this.abilities,t.name)===t.value||(t.value=this.util.clamp(t.value,t.min,t.max),o()(this.defense,t.name,t.value),this.triggerDom('edit',{input:t,name:this.prefix+t.name,value:t.value}))},this.on('update',function(){this.prefix=this.opts.prefix||'defense.',this.defense=this.opts.defense})})},function(e,t,a){'use strict';a.r(t);var i=a(10),n=a.n(i),s=a(203),r=a.n(s),o=a(229),p=a(1);p.tag2('offense','<fieldset> <legend>Offense</legend> <p> <label> <span>Initiative</span> <input name="initiative.total" min="-100" max="100" step="1" riot-value="{offense.initiative.total}" onkeyup="{edit}" onchange="{edit}" type="{\'number\'}"> </label> <input name="initiative.abilityModifier" min="-60" max="60" step="1" riot-value="{offense.initiative.abilityModifier}" onkeyup="{edit}" onchange="{edit}" disabled="{opts.strict}" type="{\'number\'}"> <input name="initiative.miscModifier" min="-100" max="100" riot-value="{offense.initiative.miscModifier}" onkeyup="{edit}" onchange="{edit}" type="{\'number\'}"> </p> <p> <label> <span>BAB</span> <input name="baseAttackBonus" min="-100" max="100" step="1" riot-value="{offense.baseAttackBonus}" onkeyup="{edit}" onchange="{edit}" type="{\'number\'}"> </label> </p> <p> <label> CMB <input name="combatManeuverBonus.total" min="0" max="100" step="1" riot-value="{offense.combatManeuverBonus.total}" onkeyup="{edit}" onchange="{edit}" type="{\'number\'}"> </label> = <input name="combatManeuverBonus.baseAttackBonus" min="-100" max="100" step="1" riot-value="{offense.combatManeuverBonus.baseAttackBonus}" onkeyup="{edit}" onchange="{edit}" disabled="{opts.strict}" type="{\'number\'}"> + <input name="combatManeuverBonus.abilityModifier" min="-60" max="60" step="1" riot-value="{offense.combatManeuverBonus.abilityModifier}" onkeyup="{edit}" onchange="{edit}" disabled="{opts.strict}" type="{\'number\'}"> + <input name="combatManeuverBonus.sizeModifier" min="0" max="100" step="1" riot-value="{offense.combatManeuverBonus.sizeModifier}" onkeyup="{edit}" onchange="{edit}" disabled="{opts.strict}" type="{\'number\'}"> + <input name="combatManeuverBonus.miscModifier" min="0" max="100" step="1" riot-value="{offense.combatManeuverBonus.miscModifier}" onkeyup="{edit}" onchange="{edit}" type="{\'number\'}"> + <input name="combatManeuverBonus.tempModifier" min="0" max="100" step="1" riot-value="{offense.combatManeuverBonus.tempModifier}" onkeyup="{edit}" onchange="{edit}" type="{\'number\'}"> </p> </fieldset>','','',function(){this.mixin(o['default']),this.prefix=this.opts.prefix||'offense.',this.offense=this.opts.offense,this.edit=function(e){let t=e.target;n()(this.abilities,t.name)===t.value||(t.value=this.util.clamp(t.value,t.min,t.max),r()(this.offense,t.name,t.value),this.triggerDom('edit',{input:t,name:this.prefix+t.name,value:t.value}))},this.on('update',function(){this.prefix=this.opts.prefix||'offense.',this.offense=this.opts.offense})})},function(e,t,a){var i=a(142);e.exports=function(e){return i(e,1|4)}},function(e,t,a){'use strict';function i(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function n(e,t){for(var a=0,i;a<t.length;a++)i=t[a],i.enumerable=i.enumerable||!1,i.configurable=!0,'value'in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}function s(e,t,a){return t&&n(e.prototype,t),a&&n(e,a),e}a.r(t),a.d(t,'default',function(){return y});var r=a(283),o=a(284),p=a(285),l=a(286),d=a(289),u=a(290),c=a(291),f=a(292),m=a(294),h=a(296),y=function(){function e(){i(this,e)}return s(e,[{key:'create',value:function(e){var t,a;return new r['default'](new o['default'](e||'Character'),t=new p['default'],a=new l['default'](10,10,10,10,10,10),new d['default'](new u['default'](),new c['default'](a.dex,t,0,0,0,0,0,0),new f['default'](a,0,0,0),new m['default'](),new h['default'](0,a.str,a.dex,t,0,0)),null,null)}}]),e}()},function(e,t,a){'use strict';function i(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function n(e,t){for(var a=0,i;a<t.length;a++)i=t[a],i.enumerable=i.enumerable||!1,i.configurable=!0,'value'in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}function s(e,t,a){return t&&n(e.prototype,t),a&&n(e,a),e}a.r(t),a.d(t,'default',function(){return r});var r=function(){function e(t,a,n,s,r,o){i(this,e),this.general=t,this.size=a,this.abilities=n,this.defense=s,this.offense=r,this.skills=o}return s(e,[{key:'name',get:function(){return this.general.name}},{key:'str',get:function(){return this.abilities.str}},{key:'dex',get:function(){return this.abilities.dex}},{key:'con',get:function(){return this.abilities.con}},{key:'int',get:function(){return this.abilities.int}},{key:'wis',get:function(){return this.abilities.wis}},{key:'cha',get:function(){return this.abilities.cha}}]),e}()},function(e,t,a){'use strict';function i(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}a.r(t),a.d(t,'default',function(){return n});var n=function e(t,a,n,s,r,o,p,l){i(this,e),this.name=t,this.gender=a,this.age=n,this.height=s,this.hair=r,this.eyes=o,this.home=p,this.deity=l,this.extra=[]}},function(e,t,a){'use strict';function i(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function n(e,t){for(var a=0,i;a<t.length;a++)i=t[a],i.enumerable=i.enumerable||!1,i.configurable=!0,'value'in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}function s(e,t,a){return t&&n(e.prototype,t),a&&n(e,a),e}a.r(t),a.d(t,'default',function(){return o});var r=a(277),o=function(){function e(t){i(this,e),this._type=null,this.type=t}return s(e,[{key:'type',get:function(){return r.sizes[this._type]?this._type:'medium'},set:function(e){this._type=r.sizes[e]?e:'medium'}},{key:'size',get:function(){return r.sizes[this.type]}},{key:'modifier',get:function(){return this.size.modifier}},{key:'specialModifier',get:function(){return this.size.specialModifier}},{key:'flyModifier',get:function(){return this.size.flyModifier}},{key:'stealthModifier',get:function(){return this.size.stealthModifier}},{key:'space',get:function(){return this.size.space}},{key:'reach',get:function(){return this.size.reach}}]),e}()},function(e,t,a){'use strict';function i(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}a.r(t),a.d(t,'default',function(){return s});var n=a(287),s=function e(t,a,s,r,o,p){i(this,e),this.str=new n['default']('Strength',t),this.dex=new n['default']('Dexterity',a),this.con=new n['default']('Constitution',s),this.int=new n['default']('Intelligence',r),this.wis=new n['default']('Wisdom',o),this.cha=new n['default']('Charisma',p)}},function(e,t,a){'use strict';function i(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function n(e,t){for(var a=0,i;a<t.length;a++)i=t[a],i.enumerable=i.enumerable||!1,i.configurable=!0,'value'in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}function s(e,t,a){return t&&n(e.prototype,t),a&&n(e,a),e}a.r(t),a.d(t,'default',function(){return p});var r=a(288),o=a(229),p=function(){function e(t,a,n){i(this,e),n=n||0,this.name=t,this.shortName=t.substr(0,3).toLowerCase(),this.abilityScore=new r['default'](a),this.tempScore=new r['default'](n)}return s(e,[{key:'score',get:function(){return this.abilityScore.score},set:function(e){this.abilityScore.score=e}},{key:'modifier',get:function(){return o.util.isNumeric(this.tempScore)?this.tempModifier:this.baseModifier}},{key:'baseModifier',get:function(){return this.abilityScore.modifier}},{key:'temp',get:function(){return this.tempScore.score},set:function(e){this.tempScore.score=e}},{key:'tempModifier',get:function(){return this.tempScore.modifier}},{key:'bonus',get:function(){return this.temp-this.score}}]),e}()},function(e,t,a){'use strict';function i(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function n(e,t){for(var a=0,i;a<t.length;a++)i=t[a],i.enumerable=i.enumerable||!1,i.configurable=!0,'value'in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}function s(e,t,a){return t&&n(e.prototype,t),a&&n(e,a),e}a.r(t),a.d(t,'default',function(){return d});var r=a(232),o=a.n(r),p=a(269),l=a(229),d=function(){function e(t){i(this,e),this.score=l.util.isNumeric(t)?o()(t,-60,60):null}return s(e,[{key:'modifier',get:function(){return Object(p['default'])(this.score)}}]),e}()},function(e,t,a){'use strict';function i(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}a.r(t),a.d(t,'default',function(){return n});var n=function e(t,a,n,s,r,o,p){i(this,e),this.hitPoints=t,this.armorClass=a,this.saves=n,this.resistances=s,this.combatManeuverDefense=r,this.damageReduction=o||0,this.spellResistance=p||0}},function(t,a,i){'use strict';function n(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function s(e,t){for(var a=0,i;a<t.length;a++)i=t[a],i.enumerable=i.enumerable||!1,i.configurable=!0,'value'in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}function r(e,t,a){return t&&s(e.prototype,t),a&&s(e,a),e}i.r(a),i.d(a,'default',function(){return o});var o=function(){function t(e,a,i,s){n(this,t),this.base=e||6,this.tempModifier=a||0,this._current=0,this.current=i||e+a,this.nonLethalDamage=s||0}return r(t,[{key:'total',get:function(){return this.base+this.tempModifier}},{key:'current',get:function(){return this._current},set:function(t){this._current=e(t,this.total)}}]),t}()},function(e,t,a){'use strict';function i(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function n(e,t){for(var a=0,i;a<t.length;a++)i=t[a],i.enumerable=i.enumerable||!1,i.configurable=!0,'value'in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}function s(e,t,a){return t&&n(e.prototype,t),a&&n(e,a),e}a.r(t),a.d(t,'default',function(){return r});var r=function(){function e(t,a,n,s,r,o,p,l){i(this,e),this.ability=t,this.size=a,this.armorBonus=n||0,this.shieldBonus=s||0,this.naturalArmor=r||0,this.deflectionModifier=o||0,this.miscModifier=p||0,this.tempModifier=l||0}return s(e,[{key:'abilityModifier',get:function(){return this.ability.modifier}},{key:'sizeModifier',get:function(){return this.size.modifier}},{key:'total',get:function(){return 10+this.armorBonus+this.shieldBonus+this.abilityModifier+this.sizeModifier+this.naturalArmor+this.deflectionModifier+this.miscModifier+this.tempModifier}},{key:'touch',get:function(){return this.total-this.armorBonus-this.shieldBonus-this.naturalArmor}},{key:'flatFooted',get:function(){return this.total-this.abilityModifier}}]),e}()},function(e,t,a){'use strict';function i(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}a.r(t),a.d(t,'default',function(){return s});var n=a(293),s=function e(t,a,s,r){i(this,e),this.fortitude=new n['default']('Fortitude',a,t.con),this.reflex=new n['default']('Reflex',s,t.dex),this.will=new n['default']('Will',r,t.wis)}},function(e,t,a){'use strict';function i(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function n(e,t){for(var a=0,i;a<t.length;a++)i=t[a],i.enumerable=i.enumerable||!1,i.configurable=!0,'value'in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}function s(e,t,a){return t&&n(e.prototype,t),a&&n(e,a),e}a.r(t),a.d(t,'default',function(){return r});var r=function(){function e(t,a,n,s,r,o){i(this,e),this.name=t,this.base=a||0,this.ability=n,this.magicModifier=s||0,this.miscModifier=r||0,this.tempModifier=o||0}return s(e,[{key:'abilityModifier',get:function(){return this.ability.modifier}},{key:'total',get:function(){return this.base+this.abilityModifier+this.magicModifier+this.miscModifier+this.tempModifier}}]),e}()},function(e,t,a){'use strict';function i(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}a.r(t),a.d(t,'default',function(){return s});var n=a(295),s=function e(t,a,s,r){i(this,e),this.cold=new n['default'](t||0),this.fire=new n['default'](a||0),this.electricity=new n['default'](s||0),this.acid=new n['default'](r||0)}},function(e,t,a){'use strict';function i(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function n(e,t){for(var a=0,i;a<t.length;a++)i=t[a],i.enumerable=i.enumerable||!1,i.configurable=!0,'value'in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}function s(e,t,a){return t&&n(e.prototype,t),a&&n(e,a),e}a.r(t),a.d(t,'default',function(){return p});var r=a(235),o=a.n(r),p=function(){function e(t,a,n){i(this,e),this.base=t||0,this.miscModifier=a||0,this.tempModifier=n||0}return s(e,[{key:'total',get:function(){return o()([this.base,this.miscModifier,this.tempModifier])}}]),e}()},function(e,t,a){'use strict';function i(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function n(e,t){for(var a=0,i;a<t.length;a++)i=t[a],i.enumerable=i.enumerable||!1,i.configurable=!0,'value'in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}function s(e,t,a){return t&&n(e.prototype,t),a&&n(e,a),e}a.r(t),a.d(t,'default',function(){return r});var r=function(){function e(t,a,n,s,r,o){i(this,e),this.baseAttackBonus=t,this.str=a,this.dex=n,this.size=s,this.miscModifier=r,this.tempModifier=o}return s(e,[{key:'strModifier',get:function(){return this.str.modifier}},{key:'dexModifier',get:function(){return this.dex.modifier}},{key:'sizeModifier',get:function(){return this.size.specialModifier}},{key:'total',get:function(){return 10+this.baseAttackBonus+this.strModifier+this.dexModifier+this.sizeModifier+this.miscModifier+this.tempModifier}}]),e}()},function(e,t,a){'use strict';function i(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function n(e,t){for(var a=0,i;a<t.length;a++)i=t[a],i.enumerable=i.enumerable||!1,i.configurable=!0,'value'in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}function s(e,t,a){return t&&n(e.prototype,t),a&&n(e,a),e}a.r(t),a.d(t,'default',function(){return g});var r=a(298),o=a.n(r),p=a(10),l=a.n(p),d=a(203),u=a.n(d),c=a(299),f=a.n(c),m=a(172),h=a.n(m),y={},g=function(){function e(){i(this,e)}return s(e,[{key:'buildBonusPropagationMap',value:function(){return{}}},{key:'getPropagationMap',value:function(e){return h()(y,e.propagationMap,this.buildBonusPropagationMap(e))}},{key:'propagate',value:function(e){var t=this.getPropagationMap(e),a,n;for(a in t){if(n=t[a],'string'==typeof n){u()(e,a,l()(e,n));continue}if(Array.isArray(n)&&0<n.length){var s=void 0,i=null,r=null;for(s=0;s<n.length;s++)r=l()(e,n[s]),void 0===r||null===r||isNaN(r)||(i=r);u()(e,a,i)}}}},{key:'process',value:function(e,t){return this.propagate(t),this.update(e,t),h()(t,this.extract(e)),this.propagate(t),t}},{key:'update',value:function(e,t){t=this.prepareSheet(t),o()(e.general,t.general),e.size.type=t.size.type,f()(e.abilities,function(e,a){e.score=l()(t,'abilities.'.concat(a,'.score')),e.temp=l()(t,'abilities.'.concat(a,'.temp'))}),e.defense.hitPoints.base=t.defense.hitPoints.base,e.defense.hitPoints.tempModifier=t.defense.hitPoints.tempModifier,e.defense.hitPoints.current=t.defense.hitPoints.current,e.defense.armorClass.armorBonus=t.defense.armorClass.armorBonus,e.defense.armorClass.shieldBonus=t.defense.armorClass.shieldBonus,e.defense.armorClass.naturalArmor=t.defense.armorClass.naturalArmor,e.defense.armorClass.deflectionModifier=t.defense.armorClass.deflectionModifier,e.defense.armorClass.miscModifier=t.defense.armorClass.miscModifier,e.defense.armorClass.tempModifier=t.defense.armorClass.tempModifier,f()(e.defense.saves,function(e,a){e.base=l()(t,'defense.saves.'.concat(a,'.base')),e.magicModifier=l()(t,'defense.saves.'.concat(a,'.magicModifier')),e.miscModifier=l()(t,'defense.saves.'.concat(a,'.miscModifier')),e.tempModifier=l()(t,'defense.saves.'.concat(a,'.tempModifier'))}),e.defense.combatManeuverDefense.baseAttackBonus=t.offense.baseAttackBonus,e.defense.combatManeuverDefense.miscModifier=t.defense.combatManeuverDefense.miscModifier,e.defense.combatManeuverDefense.tempModifier=t.defense.combatManeuverDefense.tempModifier}},{key:'extract',value:function(e,t){return t=this.prepareSheet(t),t.size.type=e.size.type,t.size.modifier=e.size.modifier,t.size.specialModifier=e.size.specialModifier,t.size.flyModifier=e.size.flyModifier,t.size.stealthModifier=e.size.stealthModifier,t.size.space=e.size.space,t.size.reach=e.size.reach,f()(e.abilities,function(e,a){t.abilities[a]=t.abilities[a]||{},t.abilities[a].score=e.score,t.abilities[a].modifier=e.modifier,t.abilities[a].temp=e.temp,t.abilities[a].tempModifier=e.tempModifier}),t.defense.hitPoints.total=e.defense.hitPoints.total,t.defense.hitPoints.base=e.defense.hitPoints.base,t.defense.hitPoints.tempModifier=e.defense.hitPoints.tempModifier,t.defense.hitPoints.current=e.defense.hitPoints.current,t.defense.armorClass.total=e.defense.armorClass.total,t.defense.armorClass.touch=e.defense.armorClass.touch,t.defense.armorClass.flatFooted=e.defense.armorClass.flatFooted,t.defense.armorClass.armorBonus=e.defense.armorClass.armorBonus,t.defense.armorClass.shieldBonus=e.defense.armorClass.shieldBonus,t.defense.armorClass.abilityModifier=e.defense.armorClass.abilityModifier,t.defense.armorClass.sizeModifier=e.defense.armorClass.sizeModifier,t.defense.armorClass.naturalArmor=e.defense.armorClass.naturalArmor,t.defense.armorClass.deflectionModifier=e.defense.armorClass.deflectionModifier,t.defense.armorClass.miscModifier=e.defense.armorClass.miscModifier,t.defense.armorClass.tempModifier=e.defense.armorClass.tempModifier,f()(e.defense.saves,function(e,a){t.defense.saves[a]=t.defense.saves[a]||{},t.defense.saves[a].total=e.total,t.defense.saves[a].base=e.base,t.defense.saves[a].abilityModifier=e.abilityModifier,t.defense.saves[a].miscModifier=e.miscModifier,t.defense.saves[a].tempModifier=e.tempModifier}),t.defense.combatManeuverDefense.total=e.defense.combatManeuverDefense.total,t.defense.combatManeuverDefense.baseAttackBonus=e.defense.combatManeuverDefense.baseAttackBonus,t.defense.combatManeuverDefense.strModifier=e.defense.combatManeuverDefense.strModifier,t.defense.combatManeuverDefense.dexModifier=e.defense.combatManeuverDefense.dexModifier,t.defense.combatManeuverDefense.sizeModifier=e.defense.combatManeuverDefense.sizeModifier,t.defense.combatManeuverDefense.miscModifier=e.defense.combatManeuverDefense.miscModifier,t.defense.combatManeuverDefense.tempModifier=e.defense.combatManeuverDefense.tempModifier,t}},{key:'prepareSheet',value:function(e){return h()(e,{general:{},size:{},abilities:{},defense:{hitPoints:{},armorClass:{},saves:{},combatManeuverDefense:{}}},e)}}]),e}()},function(e,t,a){var i=a(144),n=a(148),s=a(181),r=a(114),o=a(111),p=a(96),l=Object.prototype,d=l.hasOwnProperty,u=s(function(e,t){if(o(t)||r(t))return void n(t,p(t),e);for(var a in t)d.call(t,a)&&i(e,a,t[a])});e.exports=u},function(e,t,a){e.exports=a(300)},function(e,t,a){var i=a(143),n=a(195),s=a(301),r=a(13);e.exports=function(e,t){var a=r(e)?i:n;return a(e,s(t))}},function(e,t,a){var i=a(127);e.exports=function(e){return'function'==typeof e?e:i}}])['default']});